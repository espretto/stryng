/**
 * @license
 * Copyright (c) 2013 Marius R. <espretto@gmail.com>
 */
!function(){function a(a){var a;throw new Error("invalid usage of Stryng member. "+(a||""))}function b(a,c){return this instanceof b?(this._value=null!=a?j(a):"",this._is_mutable=!!c,void(u?u(this,"length",{enumerable:!1,configurable:!1,get:function(){return this._value.length}}):this.length=this._value.length)):new b(a)}var c,d,e,f,g,h=(e="0.0.1",1/0),i=65535,j=g=e.constructor,k=c="charAt,charCodeAt,codePointAt,concat,contains,endsWithindexOf,lastIndexOf,localeCompare,match,normalize,replace,search,slice,split,startsWith,substr,substring,toLocaleLowerCase,toLocaleUpperCase,toLowerCase,toUpperCase,trim,trimLeft,trimRight".split(","),l=[],m=d={},o="undefined"!=typeof JSON&&JSON.stringify,p=Math.floor,q=Math.random,r=j.fromCharCode,s=j.fromCodePoint,t=Number.toInteger||function(){return(n=+n)&&isFinite(n)?n-n%1:n||0},u=function(a){try{return a({},e,{value:1}),a}catch(b){}}(Object.defineProperty),v=c.push,w=c.slice,x=c.unshift,y=g.call,z=d.toString,A=c.forEach||function(a){for(var b=this,c=b.length;c--;)a(b[c])},B=function(a,b){var c,d,e=this;if(null==e)throw new TypeError("can't convert "+e+" to object");e=Object(e);for(c in e)if(e.hasOwnProperty(c)&&(d=a.call(b,e[c],c,e),d===!1))break},C=f=/[^\\]\$$/,D={A:"\\xC0-\\xC5",a:"\\xE0-\\xE5",AE:"\\xC6",ae:"\\xE6",C:"\\xC7",c:"\\xE7",E:"\\xC8-\\xCB",e:"\\xE8-\\xEB",I:"\\xCC-\\xCF",i:"\\xEC-\\xEF",D:"\\xD0",d:"\\xF0",N:"\\xD1",n:"\\xF1",O:"\\xD2-\\xD6\\xD8",o:"\\xF2-\\xF6\\xF8",U:"\\xD9-\\xDC",u:"\\xF9-\\xFC",Y:"\\xDD",y:"\\xFD\\xFF",sz:"\\xDF"};B.call(D,function(a,b){D[b]=new RegExp("["+a+"]","g")});var E=/\S/,F=/\s\s*/g,G=/^\s\s*/,H=/\s*\s$/,I=/\r?\n|\u2028|\u2029/g;!function(){var a=!0,b=/\s/,c=b.source,d="	\n\f\r   ᠎             　\u2028\u2029﻿";if(A.call(d,function(d){b.test(d)||(c+=d,a=!1)}),!a){l.push("trim","trimRight","trimLeft");var e="["+c+"]["+c+"]*";E=new RegExp("[^"+c+"]"),F=new RegExp(e,"g"),G=new RegExp("^"+e),H=new RegExp("["+c+"]+$")}}(),"y"!=="xy".substr(-1)&&l.push("substr"),A.call(["Array","Function","RegExp"],function(a){var b="[object "+a+"]";m[a]=function(a){return a&&z.call(a)===b}}),m.Array=Array.isArray||m.Array,"object"==typeof f&&(m.Function=function(a){return a&&"function"==typeof a}),b.prototype.clone=function(a){return new b(this._value,a)};var J={trim:function(b){return null!=b?j(b).replace(G,"").replace(H,""):a()},trimLeft:function(b){return null!=b?j(b).replace(G,""):a()},trimRight:function(b){return null!=b?j(b).replace(H,""):a()},contains:function(b,c,d){return null!=b?-1!==j(b).indexOf(c,d):a()},startsWith:function(b,c,d){if(b=null!=b?j(b):a(),m.RegExp(c))return!b.substring(d).search(c);var e,f=b.indexOf(c,d);return-1===f?!1:(e=b.length,f===(void 0===d||0>d?0:d>e?e:p(d)||0))},endsWith:function(b,c,d){b=null!=b?j(b):a();var e,f=b.length,d=void 0===d||d>f?f:0>d?0:p(d)||0;return m.RegExp(c)?(C.test(c.source)||a('"search" must match end i.e. end with "$"'),c.test(b.substring(0,d))):(c=j(c))?(e=b.lastIndexOf(c,d),-1!==e&&e+c.length===d):!0},repeat:function(b,c){(null==b||-1>=c||c==h)&&a(),c=0>c?0:p(c)||0;for(var d="";c;)c%2&&(d+=b),c=p(c/2),b+=b;return d},substr:function(b,c,d){return b=null!=b?j(b):a(),c=-1>=c&&(c=t(c)+b.length)<0?0:c,b.substr(c,d)},wrap:function(c,d,e){return null==c&&a(),d=b.repeat(d,e),d+c+d},count:function(b,c){if(b=null!=b?j(b):a(),c=j(c),!c)return b.length+1;var d=c.length,e=0,f=-d;do f=b.indexOf(c,f+d);while(-1!==f&&++e);return e},join:function(b){var c=arguments;return null==b&&a(),1===c.length?"":w.call(c,1).join(b)},reverse:function(b){return null!=b?j(b).split("").reverse().join(""):a()},insert:function(b,c,d){return b=null!=b?j(b):a(),void 0===c&&(c=t(c)),b.slice(0,c)+d+b.slice(c)},splitLeft:function(b,c,d){if(b=null!=b?j(b):a(),d=(void 0===d?-1:d)>>>0,!d)return[];var e,f,g,h=[],i=0;if(m.RegExp(c)){for(;d--&&(e=b.match(c));)f=e.index,h.push(b.substring(0,f)),i=f+e.shift().length,f>=i&&(i=f+1),e.length&&v.apply(h,e),b=b.substring(i);h.push(b)}else c=j(c),h=b.split(c),g=h.length-d,g>0&&h.push(h.splice(d,g).join(c));return h},splitRight:function(b,c,d){if(b=null!=b?j(b):a(),d=(void 0===d?-1:d)>>>0,!d)return[];var e,f,g,h,i;if(m.RegExp(c)){for(C.test(c.source)||a('"delimiter" must match end i.e. end with "$"');d--&&(h=b.match(c));)f=h.index,g=f+h.shift().length,e.unshift(b.substring(g)),f>=g&&(f=g-1),h.length&&x.apply(e,h),b=b.substring(0,f);e.unshift(b)}else c=j(c),e=b.split(c),i=e.length-d,i>0&&e.unshift(e.splice(0,i).join(c));return e},splitLines:function(b){return null!=b?j(b).split(I):a()},splitAt:function(b){b=null!=intput?j(b):a();for(var c=b.length,d=arguments,e=d.length,f=1,g=0,h=0,i=[];e>f;f++)g=t(d[f]),0>g&&(g+=c),h>=g?(i.push(""),g=h):(i.push(b.slice(h,g)),h=g);return i.push(b.substring(g)),i},exchange:function(b,c,d){return b=null!=b?j(b):a(),c=j(c),d=j(d),c===d?b:b.split(c).join(d)},exchangeLeft:function(c,d,e,f){return c=null!=c?j(c):a(),d=j(d),e=j(e),d===e?c:b.splitLeft(c,d,f).join(e)},exchangeRight:function(c,d,e,f){return c=null!=c?j(c):a(),d=j(d),e=j(e),d===e?c:b.splitRight(c,d,f).join(e)},just:function(b,c,d){(null==b||-1>=c||c==h)&&a(),b=j(b),d=j(d),c=0>c?0:p(c)||0;var e=b.length,f=2*d.length;if(e>=c||!d)return b;for(;b.length+f<=c;)b=d+b+d;return b},justLeft:function(b,c,d){(null==b||-1>=c||c==h)&&a(),b=j(b),d=j(d),c=0>c?0:p(c)||0;var e=b.length;if(e>=c||!d)return b;for(var f=d.length;b.length+f<=c;)b=d+b;return b},justRight:function(b,c,d){(null==b||-1>=c||c==h)&&a(),b=j(b),d=j(d),c=0>c?0:p(c)||0;var e=b.length;if(fill_len=d.length,e>=c||!d)return b;for(;b.length+fill_len<=c;)b+=d;return b},stripLeft:function(b,c,d){if(b=null!=b?j(b):a(),d=(void 0===d?-1:d)>>>0,c=j(c),!d||!c)return b;var e,f=c.length,g=0;do e=b.indexOf(c,g);while(d--&&e===g&&(g+=f));return g?b.substring(g):b},stripRight:function(b,c,d){if(b=null!=b?j(b):a(),d=(void 0===d?-1:d)>>>0,c=j(c),!d||!c)return b;var e,f=c.length,g=b.length;do g-=f,e=b.lastIndexOf(c,g);while(d--&&-1!==e&&e===g);return b.substring(0,g+f)},strip:function(a,c,d){return b.stripRight(b.stripLeft(a,c,d),c,d)},truncate:function(b,c,d){if(b=null!=b?j(b):a(),c=(void 0===c?-1:c)>>>0,!c)return"";if(c>=b.length)return b;d=void 0!==d?j(d):"...";var e=d.length;return e>=c?d.slice(-c):b.substring(0,c-e)+d},quote:function(b){if(b=null!=b?j(b):a(),o)return o(b);for(var c,d=0,e="",f=b.length;f>d;d++)c=b.charCodeAt(d),e+=34===c?'\\"':92===c?"\\\\":c>31&&127>c?r(c):8===c?"\\b":9===c?"\\t":10===c?"\\n":12===c?"\\f":13===c?"\\r":(256>c?"\\x"+(16>c?"0":""):"\\u"+(4096>c?"0":""))+c.toString(16);return'"'+e+'"'},unquote:function(b){return null!=b?j(b).replace(/\\([btnfr"\\])/g,function(a,b){return"b"===b?"\b":"t"===b?"	":"n"===b?"\n":"f"===b?"\f":"r"===b?"\r":b}).replace(/[xu]([0-9A-F]{2})([0-9A-F]{2})?/gi,function(a,b,c){return r(parseInt(b+(c||""),16))}).slice(1,-1):a()},ord:function(b){b=null!=b?j(b):a();for(var c=b.length,d=Array(c);c--;)d[c]=b.charCodeAt(c);return d},prepend:function(b,c){return b=null!=b?j(b):a(),c+b},isEqual:function(b,c){return b=null!=b?j(b):a(),j(c)===b},isEmpty:function(b){return null!=b?!j(b):a()},isBlank:function(b){return b=null!=b?j(b):a(),!b||!E.test(b)},collapseWhitespace:function(b){return null!=b?j(b).replace(F," "):a()},capitalize:function(b){b=null!=b?j(b):a();var c=b.length;return c?1===c?b.toUpperCase():b.charAt(0).toUpperCase()+b.substring(1):b},camelize:function(b){return null!=b?j(b).replace(/[ _-]([a-z]?)/g,function(a,b){return b?b.toUpperCase():""}):a()},underscore:function(){return null!=input?j(input).replace(/([a-z])([A-Z])/g,"$1_$2").replace(/[ -]/g,"_").toLowerCase():a()},dasherize:function(){return null!=input?j(input).replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[ _]/g,"-").toLowerCase():a()},slugify:function(c){return c=null!=c?j(c):a(),B.call(D,function(a,b){c=c.replace(a,b)}),b.dasherize(c)}};b.random=function(b,c,d){(-1>=b||b==h)&&a(),b=0>b?0:p(b)||0,c=void 0===c?32:c>>>0,d=void 0===d?127:d>>>0,d>i&&a();var e="",f=d-c;if(f>0)for(;b--;)e+=r(c+p(q()*f));return e},b.chr=function(){for(var b=arguments,c=b.length;c--;)b[c]>i&&a("char code "+b[c]+" is out of range.");return r.apply(null,arguments)},b.noConflict=function(){return window.Stryng=previous_Stryng,b},b.fromCharCode=r,b.fromCodePoint=s,B.call(J,function(a,c){b[c]=a,b.prototype[c]=function(){var c,d=arguments;if(x.call(d,this._value),c=a.apply(null,d),"string"==typeof c){if(!this._is_mutable)return new b(c);this._value=c,u||(this.length=c.length)}return c}}),A.call(k,function(c){var d=e[c];m.Function(d)&&-1===l.indexOf(c)&&(b[c]=j[c]||function(b){return null==b&&a(),y.apply(d,arguments)},b.prototype[c]=function(){var a=d.apply(this._value,arguments);if("string"==typeof a){if(!this._is_mutable)return new b(a);this._value=a,u||(this.length=a.length)}return a})}),b.prototype.valueOf=b.prototype.toString=function(){return this._value},B.call(J,function(a,c){var d=new b(c);d.endsWith("Left")?(d=d.stripRight("Left").prepend("l"),b[d]=a,b.prototype[d]=b.prototype[c]):d.endsWith("Right")&&(d=d.stripRight("Right").prepend("r"),b[d]=a,b.prototype[d]=b.prototype[c])}),b.shallowStringify=b.quote,b.prototype.shallowStringify=b.prototype.quote,b.append=b.concat,b.prototype.append=b.prototype.concat}();
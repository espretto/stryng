<!DOCTYPE html>
<html>
<head>
  <title>stryng.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../doc-style.css" />
  <script src="../doc-filelist.js"></script>
  <script>
    var relativeDir = "../", thisFile = "src/stryng.js", defaultSidebar = true;
  </script>
  <script src="../doc-script.js"></script>
  <script src="../goToLine.js"></script>
  <script src="../fileSearch.js"></script>
  <link rel="stylesheet" href="../goToLine.css" />
  <link rel="stylesheet" href="../fileSearch.css" />
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h1">
        <a href="#baseline%20setup">baseline setup</a>
      </div>
      <div class="heading h2">
        <a href="#method%20shortcuts">method shortcuts</a>
      </div>
      <div class="heading h3">
        <a href="#static%20methods">static methods</a>
      </div>
      <div class="heading h3">
        <a href="#instance%20methods">instance methods</a>
      </div>
      <div class="heading h2">
        <a href="#regular%20expressions">regular expressions</a>
      </div>
      <div class="heading h3">
        <a href="#diacritics%20%26amp%3B%20liguatures">diacritics &amp; liguatures</a>
      </div>
      <div class="heading h3">
        <a href="#the%20whitespace%20shim">the whitespace shim</a>
      </div>
      <div class="heading h2">
        <a href="#the%20substr%20check">the substr check</a>
      </div>
      <div class="heading h2">
        <a href="#custom%20exit">custom exit</a>
      </div>
      <div class="heading h2">
        <a href="#type%20safety">type safety</a>
      </div>
      <div class="heading h1">
        <a href="#defining%20stryng">defining Stryng</a>
      </div>
      <div class="heading h2">
        <a href="#constructor">constructor</a>
      </div>
      <div class="heading h2">
        <a href="#cloning%20mutables">cloning mutables</a>
      </div>
      <div class="heading h2">
        <a href="#instance%20methods%20%26amp%3B%20static%20functions">instance methods &amp; static functions</a>
      </div>
      <div class="heading h2">
        <a href="#static%20functions">static functions</a>
      </div>
      <div class="heading h1">
        <a href="#building%20stryng">building Stryng</a>
      </div>
      <div class="heading h2">
        <a href="#custom%20methods">custom methods</a>
      </div>
      <div class="heading h2">
        <a href="#native%20methods">native methods</a>
      </div>
      <div class="heading h2">
        <a href="#seemlessness">seemlessness</a>
      </div>
      <div class="heading h2">
        <a href="#aliases">aliases</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>stryng.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>
<p>leverage uglifyjs' ability to declare global variables</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-3" id="line-3">3</a>  <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">DEBUG</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span> <span class="p">)</span> <span class="nx">DEBUG</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<a class="line-num" href="#line-4" id="line-4">4</a>  
<a class="line-num" href="#line-5" id="line-5">5</a>  
<a class="line-num" href="#line-6" id="line-6">6</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="baseline%20setup">
  <h1>
    <a href="#baseline%20setup" name="baseline%20setup" class="pilcrow">&#182;</a>
    baseline setup
  </h1>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-7" id="line-7">7</a>  
<a class="line-num" href="#line-8" id="line-8">8</a>  
<a class="line-num" href="#line-9" id="line-9">9</a>  <span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<a class="line-num" href="#line-10" id="line-10">10</a>  
<a class="line-num" href="#line-11" id="line-11">11</a>    <span class="kd">var</span> <span class="c1">// one to var them all</span>
<a class="line-num" href="#line-12" id="line-12">12</a>  
<a class="line-num" href="#line-13" id="line-13">13</a>  
<a class="line-num" href="#line-14" id="line-14">14</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3">&#182;</a>
</div>
<p>used to access native instance methods</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-13" id="line-13">13</a>  
<a class="line-num" href="#line-14" id="line-14">14</a>    <span class="nx">array</span><span class="p">,</span> <span class="nx">object</span><span class="p">,</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">regex</span><span class="p">,</span> <span class="nx">func</span><span class="p">,</span>
<a class="line-num" href="#line-15" id="line-15">15</a>  
<a class="line-num" href="#line-16" id="line-16">16</a>  
<a class="line-num" href="#line-17" id="line-17">17</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4">&#182;</a>
</div>
<p>current version</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-16" id="line-16">16</a>  
<a class="line-num" href="#line-17" id="line-17">17</a>      <span class="nx">VERSION</span> <span class="o">=</span> <span class="nx">string</span> <span class="o">=</span> <span class="s1">&#39;0.0.1&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-18" id="line-18">18</a>  
<a class="line-num" href="#line-19" id="line-19">19</a>  
<a class="line-num" href="#line-20" id="line-20">20</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<p>used for input validation</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-19" id="line-19">19</a>  
<a class="line-num" href="#line-20" id="line-20">20</a>      <span class="nx">INFINITY</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span><span class="p">,</span>
<a class="line-num" href="#line-21" id="line-21">21</a>  
<a class="line-num" href="#line-22" id="line-22">22</a>  
<a class="line-num" href="#line-23" id="line-23">23</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6">&#182;</a>
</div>
<p>used to limit <em>String.fromCharCode</em></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-22" id="line-22">22</a>  
<a class="line-num" href="#line-23" id="line-23">23</a>      <span class="nx">MAX_CHARCODE</span> <span class="o">=</span> <span class="mi">65535</span><span class="p">,</span> <span class="c1">// Math.pow(2, 16) - 1</span>
<a class="line-num" href="#line-24" id="line-24">24</a>  
<a class="line-num" href="#line-25" id="line-25">25</a>  
<a class="line-num" href="#line-26" id="line-26">26</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7">&#182;</a>
</div>
<p>used to convert to string</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-25" id="line-25">25</a>  
<a class="line-num" href="#line-26" id="line-26">26</a>      <span class="nb">String</span> <span class="o">=</span> <span class="nx">func</span> <span class="o">=</span> <span class="nx">string</span><span class="p">.</span><span class="nx">constructor</span><span class="p">,</span>
<a class="line-num" href="#line-27" id="line-27">27</a>  
<a class="line-num" href="#line-28" id="line-28">28</a>  
<a class="line-num" href="#line-29" id="line-29">29</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<p>methods <em>Stryng</em> hopes to adopt</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-28" id="line-28">28</a>  
<a class="line-num" href="#line-29" id="line-29">29</a>      <span class="nx">methods</span> <span class="o">=</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">(</span> <span class="s1">&#39;charAt,&#39;</span> <span class="c1">// charAt</span>
<a class="line-num" href="#line-30" id="line-30">30</a>        <span class="o">+</span> <span class="s1">&#39;charCodeAt,&#39;</span> <span class="c1">// charCodeAt</span>
<a class="line-num" href="#line-31" id="line-31">31</a>        <span class="o">+</span> <span class="s1">&#39;codePointAt,&#39;</span> <span class="c1">// codePointAt</span>
<a class="line-num" href="#line-32" id="line-32">32</a>        <span class="o">+</span> <span class="s1">&#39;concat,&#39;</span> <span class="c1">// concat</span>
<a class="line-num" href="#line-33" id="line-33">33</a>        <span class="o">+</span> <span class="s1">&#39;contains,&#39;</span> <span class="c1">// contains</span>
<a class="line-num" href="#line-34" id="line-34">34</a>        <span class="o">+</span> <span class="s1">&#39;endsWith&#39;</span> <span class="c1">// endsWit</span>
<a class="line-num" href="#line-35" id="line-35">35</a>        <span class="o">+</span> <span class="s1">&#39;indexOf,&#39;</span> <span class="c1">// indexOf</span>
<a class="line-num" href="#line-36" id="line-36">36</a>        <span class="o">+</span> <span class="s1">&#39;lastIndexOf,&#39;</span> <span class="c1">// lastIndexOf</span>
<a class="line-num" href="#line-37" id="line-37">37</a>        <span class="o">+</span> <span class="s1">&#39;localeCompare,&#39;</span> <span class="c1">// localeCompare</span>
<a class="line-num" href="#line-38" id="line-38">38</a>        <span class="o">+</span> <span class="s1">&#39;match,&#39;</span> <span class="c1">// match</span>
<a class="line-num" href="#line-39" id="line-39">39</a>        <span class="o">+</span> <span class="s1">&#39;normalize,&#39;</span> <span class="c1">// normalize</span>
<a class="line-num" href="#line-40" id="line-40">40</a>        <span class="o">+</span> <span class="s1">&#39;replace,&#39;</span> <span class="c1">// replace</span>
<a class="line-num" href="#line-41" id="line-41">41</a>        <span class="o">+</span> <span class="s1">&#39;search,&#39;</span> <span class="c1">// search</span>
<a class="line-num" href="#line-42" id="line-42">42</a>        <span class="o">+</span> <span class="s1">&#39;slice,&#39;</span> <span class="c1">// slice</span>
<a class="line-num" href="#line-43" id="line-43">43</a>        <span class="o">+</span> <span class="s1">&#39;split,&#39;</span> <span class="c1">// split</span>
<a class="line-num" href="#line-44" id="line-44">44</a>        <span class="o">+</span> <span class="s1">&#39;startsWith,&#39;</span> <span class="c1">// startsWith</span>
<a class="line-num" href="#line-45" id="line-45">45</a>        <span class="o">+</span> <span class="s1">&#39;substr,&#39;</span> <span class="c1">// substr</span>
<a class="line-num" href="#line-46" id="line-46">46</a>        <span class="o">+</span> <span class="s1">&#39;substring,&#39;</span> <span class="c1">// substring</span>
<a class="line-num" href="#line-47" id="line-47">47</a>        <span class="o">+</span> <span class="s1">&#39;toLocaleLowerCase,&#39;</span> <span class="c1">// toLocaleLowerCase</span>
<a class="line-num" href="#line-48" id="line-48">48</a>        <span class="o">+</span> <span class="s1">&#39;toLocaleUpperCase,&#39;</span> <span class="c1">// toLocaleUpperCase</span>
<a class="line-num" href="#line-49" id="line-49">49</a>        <span class="o">+</span> <span class="s1">&#39;toLowerCase,&#39;</span> <span class="c1">// toLowerCase</span>
<a class="line-num" href="#line-50" id="line-50">50</a>        <span class="o">+</span> <span class="s1">&#39;toUpperCase,&#39;</span> <span class="c1">// toUpperCase</span>
<a class="line-num" href="#line-51" id="line-51">51</a>        <span class="o">+</span> <span class="s1">&#39;trim,&#39;</span> <span class="c1">// trim</span>
<a class="line-num" href="#line-52" id="line-52">52</a>        <span class="o">+</span> <span class="s1">&#39;trimLeft,&#39;</span> <span class="c1">// trimLeft</span>
<a class="line-num" href="#line-53" id="line-53">53</a>        <span class="o">+</span> <span class="s1">&#39;trimRight&#39;</span> <span class="c1">// trimRight</span>
<a class="line-num" href="#line-54" id="line-54">54</a>      <span class="p">).</span><span class="nx">split</span><span class="p">(</span> <span class="s1">&#39;,&#39;</span> <span class="p">),</span>
<a class="line-num" href="#line-55" id="line-55">55</a>  
<a class="line-num" href="#line-56" id="line-56">56</a>  
<a class="line-num" href="#line-57" id="line-57">57</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9">&#182;</a>
</div>
<p>methods which's native implementations to override if necessary</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-56" id="line-56">56</a>  
<a class="line-num" href="#line-57" id="line-57">57</a>      <span class="nx">shim_methods</span> <span class="o">=</span> <span class="p">[],</span>
<a class="line-num" href="#line-58" id="line-58">58</a>  
<a class="line-num" href="#line-59" id="line-59">59</a>  
<a class="line-num" href="#line-60" id="line-60">60</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<p>inner module to hold type/class check functions.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-59" id="line-59">59</a>  
<a class="line-num" href="#line-60" id="line-60">60</a>      <span class="nx">is</span> <span class="o">=</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{},</span>
<a class="line-num" href="#line-61" id="line-61">61</a>  
<a class="line-num" href="#line-62" id="line-62">62</a>  
<a class="line-num" href="#line-63" id="line-63">63</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="method%20shortcuts">
  <h2>
    <a href="#method%20shortcuts" name="method%20shortcuts" class="pilcrow">&#182;</a>
    method shortcuts
  </h2>
</div>


<p>create quick access variables for both native static functions
and instance methods. polyfills are reduced in functionality and byte-size.
they are thus <strong>for internal use only</strong> and neither populated onto
native prototypes nor intended to be spec-compliant.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-67" id="line-67">67</a>  
<a class="line-num" href="#line-68" id="line-68">68</a>  
<a class="line-num" href="#line-69" id="line-69">69</a>  
<a class="line-num" href="#line-70" id="line-70">70</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="static%20methods">
  <h3>
    <a href="#static%20methods" name="static%20methods" class="pilcrow">&#182;</a>
    static methods
  </h3>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-69" id="line-69">69</a>  
<a class="line-num" href="#line-70" id="line-70">70</a>  
<a class="line-num" href="#line-71" id="line-71">71</a>      <span class="nx">JSON_stringify</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">JSON</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">,</span>
<a class="line-num" href="#line-72" id="line-72">72</a>      <span class="nx">Math_floor</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">,</span>
<a class="line-num" href="#line-73" id="line-73">73</a>      <span class="nx">Math_random</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">,</span>
<a class="line-num" href="#line-74" id="line-74">74</a>      <span class="nx">String_fromCharCode</span> <span class="o">=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">,</span>
<a class="line-num" href="#line-75" id="line-75">75</a>      <span class="nx">String_fromCodePoint</span> <span class="o">=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCodePoint</span><span class="p">,</span>
<a class="line-num" href="#line-76" id="line-76">76</a>  
<a class="line-num" href="#line-77" id="line-77">77</a>  
<a class="line-num" href="#line-78" id="line-78">78</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13">&#182;</a>
</div>
<p>fully <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.4">spec</a> compliant
implementation of <code>Number.toInteger</code>, tested and benchmarked at <a href="http://jsperf.com/to-integer/11">jsperf</a>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-78" id="line-78">78</a>  
<a class="line-num" href="#line-79" id="line-79">79</a>      <span class="nx">Number_toInteger</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">.</span><span class="nx">toInteger</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">any</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-80" id="line-80">80</a>        <span class="k">return</span> <span class="p">(</span>
<a class="line-num" href="#line-81" id="line-81">81</a>          <span class="p">(</span> <span class="nx">n</span> <span class="o">=</span> <span class="o">+</span><span class="nx">n</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nb">isFinite</span><span class="p">(</span> <span class="nx">n</span> <span class="p">)</span> <span class="c1">// toNumber and isFinite</span>
<a class="line-num" href="#line-82" id="line-82">82</a>          <span class="o">?</span> <span class="nx">n</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">1</span> <span class="p">)</span> <span class="c1">// ceil negatives, floor positives</span>
<a class="line-num" href="#line-83" id="line-83">83</a>          <span class="o">:</span> <span class="nx">n</span> <span class="o">||</span> <span class="mi">0</span> <span class="c1">// leave be +-Infinity, translate NaN to zero</span>
<a class="line-num" href="#line-84" id="line-84">84</a>        <span class="p">);</span>
<a class="line-num" href="#line-85" id="line-85">85</a>      <span class="p">},</span>
<a class="line-num" href="#line-86" id="line-86">86</a>  
<a class="line-num" href="#line-87" id="line-87">87</a>  
<a class="line-num" href="#line-88" id="line-88">88</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14">&#182;</a>
</div>
<ul>
<li>try to define a dummy property on an object literal which fails
<ul><li>either in case <code>defineProperty</code> isn't available</li>
<li>or only DOM objects are allowed as first argument</li></ul></li>
<li>if successful, return the reference to that function</li>
<li>implicitely return <code>undefined</code> otherwise</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-91" id="line-91">91</a>  
<a class="line-num" href="#line-92" id="line-92">92</a>      <span class="nx">Object_defineProperty</span> <span class="o">=</span> <span class="p">(</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">defineProperty</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-93" id="line-93">93</a>        <span class="k">try</span> <span class="p">{</span>
<a class="line-num" href="#line-94" id="line-94">94</a>          <span class="nx">defineProperty</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">string</span><span class="p">,</span> <span class="p">{</span>
<a class="line-num" href="#line-95" id="line-95">95</a>            <span class="nx">value</span><span class="o">:</span> <span class="mi">1</span>
<a class="line-num" href="#line-96" id="line-96">96</a>          <span class="p">}</span> <span class="p">);</span>
<a class="line-num" href="#line-97" id="line-97">97</a>          <span class="k">return</span> <span class="nx">defineProperty</span><span class="p">;</span>
<a class="line-num" href="#line-98" id="line-98">98</a>        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="p">{}</span>
<a class="line-num" href="#line-99" id="line-99">99</a>  
<a class="line-num" href="#line-100" id="line-100">100</a>      <span class="p">}</span> <span class="p">)(</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span> <span class="p">),</span>
<a class="line-num" href="#line-101" id="line-101">101</a>  
<a class="line-num" href="#line-102" id="line-102">102</a>  
<a class="line-num" href="#line-103" id="line-103">103</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="instance%20methods">
  <h3>
    <a href="#instance%20methods" name="instance%20methods" class="pilcrow">&#182;</a>
    instance methods
  </h3>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-102" id="line-102">102</a>  
<a class="line-num" href="#line-103" id="line-103">103</a>  
<a class="line-num" href="#line-104" id="line-104">104</a>      <span class="nx">array_push</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">,</span>
<a class="line-num" href="#line-105" id="line-105">105</a>      <span class="nx">array_slice</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">slice</span><span class="p">,</span>
<a class="line-num" href="#line-106" id="line-106">106</a>      <span class="nx">array_unshift</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">unshift</span><span class="p">,</span>
<a class="line-num" href="#line-107" id="line-107">107</a>      <span class="nx">function_call</span> <span class="o">=</span> <span class="nx">func</span><span class="p">.</span><span class="nx">call</span><span class="p">,</span>
<a class="line-num" href="#line-108" id="line-108">108</a>      <span class="nx">object_toString</span> <span class="o">=</span> <span class="nx">object</span><span class="p">.</span><span class="nx">toString</span><span class="p">,</span>
<a class="line-num" href="#line-109" id="line-109">109</a>  
<a class="line-num" href="#line-110" id="line-110">110</a>      <span class="nx">array_forEach</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">forEach</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">iterator</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-111" id="line-111">111</a>  
<a class="line-num" href="#line-112" id="line-112">112</a>        <span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
<a class="line-num" href="#line-113" id="line-113">113</a>          <span class="nx">i</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-114" id="line-114">114</a>  
<a class="line-num" href="#line-115" id="line-115">115</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">i</span><span class="o">--</span> <span class="p">)</span> <span class="nx">iterator</span><span class="p">(</span> <span class="nx">array</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="p">);</span>
<a class="line-num" href="#line-116" id="line-116">116</a>      <span class="p">},</span>
<a class="line-num" href="#line-117" id="line-117">117</a>  
<a class="line-num" href="#line-118" id="line-118">118</a>  
<a class="line-num" href="#line-119" id="line-119">119</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16">&#182;</a>
</div>
<p>make this one pretty for the w3c wishlist.
used in favor of the composition of <em>Array#forEach</em> and <em>Object.keys</em>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-119" id="line-119">119</a>  
<a class="line-num" href="#line-120" id="line-120">120</a>      <span class="nx">object_forOwn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">iterator</span><span class="p">,</span> <span class="nx">context</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-121" id="line-121">121</a>  
<a class="line-num" href="#line-122" id="line-122">122</a>        <span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
<a class="line-num" href="#line-123" id="line-123">123</a>          <span class="nx">key</span><span class="p">,</span> <span class="nx">return_value</span><span class="p">;</span>
<a class="line-num" href="#line-124" id="line-124">124</a>  
<a class="line-num" href="#line-125" id="line-125">125</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">object</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-126" id="line-126">126</a>          <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span> <span class="s1">&#39;can\&#39;t convert &#39;</span> <span class="o">+</span> <span class="nx">object</span> <span class="o">+</span> <span class="s1">&#39; to object&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-127" id="line-127">127</a>        <span class="p">}</span>
<a class="line-num" href="#line-128" id="line-128">128</a>  
<a class="line-num" href="#line-129" id="line-129">129</a>        <span class="nx">object</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">(</span> <span class="nx">object</span> <span class="p">);</span>
<a class="line-num" href="#line-130" id="line-130">130</a>  
<a class="line-num" href="#line-131" id="line-131">131</a>        <span class="k">for</span> <span class="p">(</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">object</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-132" id="line-132">132</a>          <span class="k">if</span> <span class="p">(</span> <span class="nx">object</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span> <span class="nx">key</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-133" id="line-133">133</a>            <span class="nx">return_value</span> <span class="o">=</span> <span class="nx">iterator</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">object</span><span class="p">[</span> <span class="nx">key</span> <span class="p">],</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">object</span> <span class="p">);</span>
<a class="line-num" href="#line-134" id="line-134">134</a>            <span class="k">if</span> <span class="p">(</span> <span class="nx">return_value</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-135" id="line-135">135</a>              <span class="k">break</span><span class="p">;</span>
<a class="line-num" href="#line-136" id="line-136">136</a>            <span class="p">}</span>
<a class="line-num" href="#line-137" id="line-137">137</a>          <span class="p">}</span>
<a class="line-num" href="#line-138" id="line-138">138</a>        <span class="p">}</span>
<a class="line-num" href="#line-139" id="line-139">139</a>      <span class="p">},</span>
<a class="line-num" href="#line-140" id="line-140">140</a>  
<a class="line-num" href="#line-141" id="line-141">141</a>  
<a class="line-num" href="#line-142" id="line-142">142</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="regular%20expressions">
  <h2>
    <a href="#regular%20expressions" name="regular%20expressions" class="pilcrow">&#182;</a>
    regular expressions
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-142" id="line-142">142</a>  
<a class="line-num" href="#line-143" id="line-143">143</a>  
<a class="line-num" href="#line-144" id="line-144">144</a>  
<a class="line-num" href="#line-145" id="line-145">145</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<p>used to check whether a regular expression's <code>source</code>
is suitable for reverse search. see <em>Stryng#endsWith</em> or <em>Stryng#splitRight</em>.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-145" id="line-145">145</a>  
<a class="line-num" href="#line-146" id="line-146">146</a>      <span class="nx">re_source_matches_end</span> <span class="o">=</span> <span class="nx">regex</span> <span class="o">=</span> <span class="sr">/[^\\]\$$/</span><span class="p">,</span>
<a class="line-num" href="#line-147" id="line-147">147</a>  
<a class="line-num" href="#line-148" id="line-148">148</a>  
<a class="line-num" href="#line-149" id="line-149">149</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="diacritics%20%26amp%3B%20liguatures">
  <h3>
    <a href="#diacritics%20%26amp%3B%20liguatures" name="diacritics%20%26amp%3B%20liguatures" class="pilcrow">&#182;</a>
    diacritics &amp; liguatures
  </h3>
</div>


<p>because character mappings easily grow large we only provide
the <a href="http://unicode-table.com/en/#latin-1-supplement">Latin-1 Supplement</a>
( letters in range [u00C0-u00FF] ) mapped to their nearest character
allowed in URL path segments. this <em>should</em> cover</p>

<ul>
<li>english (of course)</li>
<li>german</li>
<li>french</li>
<li>spanish</li>
<li>portuguese</li>
<li>italian</li>
<li>romanian</li>
</ul>

<p>we also rely on native <em>String#toLowerCase</em> and <em>String#toUpperCase</em>
to properly convert characters - <a href="javascript:alert('give me the link!')">which they don't</a></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-163" id="line-163">163</a>  
<a class="line-num" href="#line-164" id="line-164">164</a>      <span class="nx">latin_1_supplement</span> <span class="o">=</span> <span class="p">{</span>
<a class="line-num" href="#line-165" id="line-165">165</a>        <span class="s1">&#39;A&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xC0-\\xC5&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-166" id="line-166">166</a>        <span class="s1">&#39;a&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xE0-\\xE5&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-167" id="line-167">167</a>        <span class="s1">&#39;AE&#39;</span><span class="o">:</span><span class="s1">&#39;\\xC6&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-168" id="line-168">168</a>        <span class="s1">&#39;ae&#39;</span><span class="o">:</span><span class="s1">&#39;\\xE6&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-169" id="line-169">169</a>        <span class="s1">&#39;C&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xC7&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-170" id="line-170">170</a>        <span class="s1">&#39;c&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xE7&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-171" id="line-171">171</a>        <span class="s1">&#39;E&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xC8-\\xCB&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-172" id="line-172">172</a>        <span class="s1">&#39;e&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xE8-\\xEB&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-173" id="line-173">173</a>        <span class="s1">&#39;I&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xCC-\\xCF&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-174" id="line-174">174</a>        <span class="s1">&#39;i&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xEC-\\xEF&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-175" id="line-175">175</a>        <span class="s1">&#39;D&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xD0&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-176" id="line-176">176</a>        <span class="s1">&#39;d&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xF0&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-177" id="line-177">177</a>        <span class="s1">&#39;N&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xD1&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-178" id="line-178">178</a>        <span class="s1">&#39;n&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xF1&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-179" id="line-179">179</a>        <span class="s1">&#39;O&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xD2-\\xD6\\xD8&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-180" id="line-180">180</a>        <span class="s1">&#39;o&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xF2-\\xF6\\xF8&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-181" id="line-181">181</a>        <span class="s1">&#39;U&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xD9-\\xDC&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-182" id="line-182">182</a>        <span class="s1">&#39;u&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xF9-\\xFC&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-183" id="line-183">183</a>        <span class="s1">&#39;Y&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xDD&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-184" id="line-184">184</a>        <span class="s1">&#39;y&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xFD\\xFF&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-185" id="line-185">185</a>        <span class="s1">&#39;sz&#39;</span><span class="o">:</span> <span class="s1">&#39;\\xDF&#39;</span>
<a class="line-num" href="#line-186" id="line-186">186</a>      <span class="p">};</span>
<a class="line-num" href="#line-187" id="line-187">187</a>  
<a class="line-num" href="#line-188" id="line-188">188</a>  
<a class="line-num" href="#line-189" id="line-189">189</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20">&#182;</a>
</div>
<p>compile the character ranges to regular expressions</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-188" id="line-188">188</a>  
<a class="line-num" href="#line-189" id="line-189">189</a>    <span class="nx">object_forOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">latin_1_supplement</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">chars</span><span class="p">,</span> <span class="nx">nearest_char</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-190" id="line-190">190</a>      <span class="nx">latin_1_supplement</span><span class="p">[</span> <span class="nx">nearest_char</span> <span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="nx">chars</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-191" id="line-191">191</a>    <span class="p">}</span> <span class="p">);</span>
<a class="line-num" href="#line-192" id="line-192">192</a>  
<a class="line-num" href="#line-193" id="line-193">193</a>  
<a class="line-num" href="#line-194" id="line-194">194</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="the%20whitespace%20shim">
  <h3>
    <a href="#the%20whitespace%20shim" name="the%20whitespace%20shim" class="pilcrow">&#182;</a>
    the whitespace shim
  </h3>
</div>


<p>native implementations of <em>String#trim</em> might miss out
on some of the more exotic characters considered <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-7.2">whitespace</a>,
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-7.3">line terminators</a> or the mysterious <a href="http://www.fileformat.info/info/unicode/category/Zs/list.html">"Zs"</a>.
this section detects those flaws and constructs the regular expressions used
in the polyfills and others - <a href="#splitLines">Stryng#splitLines</a> in particular.
Many thanks to the authors of <a href="http://blog.stevenlevithan.com/archives/faster-trim-javascript">faster trim</a> and <a href="http://perfectionkills.com/whitespace-deviations/">whitespace deviations</a>.</p>

<ul>
<li>let <code>re_whitespace</code> be the native white space matcher.</li>
<li>iterate over our white space characters</li>
<li>add all whitespace characters not recognized
as such to the matcher's source.</li>
<li>if the native implementation is not <code>is_spec_compliant</code>,
reconstruct the above regular expressions and mark
their associated methods as <em>to be shimmed</em></li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-212" id="line-212">212</a>  
<a class="line-num" href="#line-213" id="line-213">213</a>  
<a class="line-num" href="#line-214" id="line-214">214</a>    <span class="kd">var</span> <span class="nx">re_no_whitespace</span> <span class="o">=</span> <span class="sr">/\S/</span><span class="p">,</span>
<a class="line-num" href="#line-215" id="line-215">215</a>      <span class="nx">re_whitespaces</span> <span class="o">=</span> <span class="sr">/\s\s*/g</span><span class="p">,</span>
<a class="line-num" href="#line-216" id="line-216">216</a>      <span class="nx">re_trim_left</span> <span class="o">=</span> <span class="sr">/^\s\s*/</span><span class="p">,</span>
<a class="line-num" href="#line-217" id="line-217">217</a>      <span class="nx">re_trim_right</span> <span class="o">=</span> <span class="sr">/\s*\s$/</span><span class="p">,</span>
<a class="line-num" href="#line-218" id="line-218">218</a>      <span class="nx">re_linebreaks</span> <span class="o">=</span> <span class="sr">/\r?\n|\u2028|\u2029/g</span><span class="p">;</span>
<a class="line-num" href="#line-219" id="line-219">219</a>  
<a class="line-num" href="#line-220" id="line-220">220</a>    <span class="p">(</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<a class="line-num" href="#line-221" id="line-221">221</a>  
<a class="line-num" href="#line-222" id="line-222">222</a>      <span class="kd">var</span> <span class="nx">is_spec_compliant</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
<a class="line-num" href="#line-223" id="line-223">223</a>        <span class="nx">re_whitespace</span> <span class="o">=</span> <span class="sr">/\s/</span><span class="p">,</span>
<a class="line-num" href="#line-224" id="line-224">224</a>        <span class="nx">re_whitespace_source</span> <span class="o">=</span> <span class="nx">re_whitespace</span><span class="p">.</span><span class="nx">source</span><span class="p">,</span>
<a class="line-num" href="#line-225" id="line-225">225</a>  
<a class="line-num" href="#line-226" id="line-226">226</a>        <span class="nx">whitespace</span> <span class="o">=</span> <span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="o">+</span> <span class="s1">&#39;\t&#39;</span> <span class="c1">// &#39;\u0009&#39; tab</span>
<a class="line-num" href="#line-227" id="line-227">227</a>          <span class="o">+</span> <span class="s1">&#39;\n&#39;</span> <span class="c1">// &#39;\u000A&#39; line feed</span>
<a class="line-num" href="#line-228" id="line-228">228</a>          <span class="o">+</span> <span class="s1">&#39;\13&#39;</span> <span class="c1">// &#39;\u000B&#39; vertical tab</span>
<a class="line-num" href="#line-229" id="line-229">229</a>          <span class="o">+</span> <span class="s1">&#39;\f&#39;</span> <span class="c1">// &#39;\u000C&#39; form feed</span>
<a class="line-num" href="#line-230" id="line-230">230</a>          <span class="o">+</span> <span class="s1">&#39;\r&#39;</span> <span class="c1">// &#39;\u000D&#39; carriage return</span>
<a class="line-num" href="#line-231" id="line-231">231</a>          <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="c1">// &#39;\u0020&#39; space</span>
<a class="line-num" href="#line-232" id="line-232">232</a>  
<a class="line-num" href="#line-233" id="line-233">233</a>          <span class="o">+</span> <span class="s1">&#39;\xA0&#39;</span> <span class="c1">// NBSP</span>
<a class="line-num" href="#line-234" id="line-234">234</a>          <span class="o">+</span> <span class="s1">&#39;\u1680\u180E\u2000\u2001&#39;</span> <span class="c1">// prevent</span>
<a class="line-num" href="#line-235" id="line-235">235</a>          <span class="o">+</span> <span class="s1">&#39;\u2002\u2003\u2004\u2005&#39;</span> <span class="c1">// formatter</span>
<a class="line-num" href="#line-236" id="line-236">236</a>          <span class="o">+</span> <span class="s1">&#39;\u2006\u2007\u2008\u2009&#39;</span> <span class="c1">// from</span>
<a class="line-num" href="#line-237" id="line-237">237</a>          <span class="o">+</span> <span class="s1">&#39;\u200A\u202F\u205F\u3000&#39;</span> <span class="c1">// mangling</span>
<a class="line-num" href="#line-238" id="line-238">238</a>  
<a class="line-num" href="#line-239" id="line-239">239</a>          <span class="o">+</span> <span class="s1">&#39;\u2028&#39;</span> <span class="c1">// line separator</span>
<a class="line-num" href="#line-240" id="line-240">240</a>          <span class="o">+</span> <span class="s1">&#39;\u2029&#39;</span> <span class="c1">// paragraph separator</span>
<a class="line-num" href="#line-241" id="line-241">241</a>          <span class="o">+</span> <span class="s1">&#39;\uFEFF&#39;</span> <span class="c1">// BOM - byte order mark</span>
<a class="line-num" href="#line-242" id="line-242">242</a>        <span class="p">);</span>
<a class="line-num" href="#line-243" id="line-243">243</a>  
<a class="line-num" href="#line-244" id="line-244">244</a>      <span class="nx">array_forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">whitespace</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">chr</span> <span class="p">)</span> <span class="p">{</span> <span class="c1">// Array#forEach is generic</span>
<a class="line-num" href="#line-245" id="line-245">245</a>  
<a class="line-num" href="#line-246" id="line-246">246</a>        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">re_whitespace</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">chr</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-247" id="line-247">247</a>          <span class="nx">re_whitespace_source</span> <span class="o">+=</span> <span class="nx">chr</span><span class="p">;</span>
<a class="line-num" href="#line-248" id="line-248">248</a>          <span class="nx">is_spec_compliant</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<a class="line-num" href="#line-249" id="line-249">249</a>        <span class="p">}</span>
<a class="line-num" href="#line-250" id="line-250">250</a>  
<a class="line-num" href="#line-251" id="line-251">251</a>      <span class="p">}</span> <span class="p">);</span>
<a class="line-num" href="#line-252" id="line-252">252</a>  
<a class="line-num" href="#line-253" id="line-253">253</a>      <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">is_spec_compliant</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-254" id="line-254">254</a>  
<a class="line-num" href="#line-255" id="line-255">255</a>        <span class="nx">shim_methods</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s1">&#39;trim&#39;</span><span class="p">,</span> <span class="s1">&#39;trimRight&#39;</span><span class="p">,</span> <span class="s1">&#39;trimLeft&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-256" id="line-256">256</a>  
<a class="line-num" href="#line-257" id="line-257">257</a>        <span class="kd">var</span> <span class="nx">re_whitespaces_source</span> <span class="o">=</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="nx">re_whitespace_source</span> <span class="o">+</span> <span class="s1">&#39;][&#39;</span> <span class="o">+</span> <span class="nx">re_whitespace_source</span> <span class="o">+</span> <span class="s1">&#39;]*&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-258" id="line-258">258</a>  
<a class="line-num" href="#line-259" id="line-259">259</a>        <span class="nx">re_no_whitespace</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s1">&#39;[^&#39;</span> <span class="o">+</span> <span class="nx">re_whitespace_source</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-260" id="line-260">260</a>        <span class="nx">re_whitespaces</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="nx">re_whitespaces_source</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-261" id="line-261">261</a>        <span class="nx">re_trim_left</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s1">&#39;^&#39;</span> <span class="o">+</span> <span class="nx">re_whitespaces_source</span> <span class="p">);</span>
<a class="line-num" href="#line-262" id="line-262">262</a>        <span class="nx">re_trim_right</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="nx">re_whitespace_source</span> <span class="o">+</span> <span class="s1">&#39;]+$&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-263" id="line-263">263</a>      <span class="p">}</span>
<a class="line-num" href="#line-264" id="line-264">264</a>  
<a class="line-num" href="#line-265" id="line-265">265</a>    <span class="p">}()</span> <span class="p">);</span>
<a class="line-num" href="#line-266" id="line-266">266</a>  
<a class="line-num" href="#line-267" id="line-267">267</a>  
<a class="line-num" href="#line-268" id="line-268">268</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="the%20substr%20check">
  <h2>
    <a href="#the%20substr%20check" name="the%20substr%20check" class="pilcrow">&#182;</a>
    the <code>substr</code> check
  </h2>
</div>


<p>check to see if the native implementation
correctly deals with negative indices.
mark as <em>to be shimmed</em> if it doesn't.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-271" id="line-271">271</a>  
<a class="line-num" href="#line-272" id="line-272">272</a>  
<a class="line-num" href="#line-273" id="line-273">273</a>    <span class="k">if</span> <span class="p">(</span> <span class="s1">&#39;xy&#39;</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="o">!==</span> <span class="s1">&#39;y&#39;</span> <span class="p">)</span> <span class="nx">shim_methods</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s1">&#39;substr&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-274" id="line-274">274</a>  
<a class="line-num" href="#line-275" id="line-275">275</a>  
<a class="line-num" href="#line-276" id="line-276">276</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="custom%20exit">
  <h2>
    <a href="#custom%20exit" name="custom%20exit" class="pilcrow">&#182;</a>
    custom exit
  </h2>
</div>


<p>wraps the process of throwing an <em>Error</em>.
in <em>DEBUG</em> mode composes the error's message
of the custom <em>Stryng</em> function's <code>_name</code> property
and the arguments passed i.e. logs the stacktrace of the level above.</p>

<ul>
<li>get the <code>caller</code> function</li>
<li>stringify its arguments</li>
<li>throw the error with the custom message</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-284" id="line-284">284</a>  
<a class="line-num" href="#line-285" id="line-285">285</a>    <span class="kd">function</span> <span class="nx">exit</span><span class="p">(</span> <span class="nx">message</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-286" id="line-286">286</a>      <span class="k">if</span> <span class="p">(</span> <span class="nx">DEBUG</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-287" id="line-287">287</a>  
<a class="line-num" href="#line-288" id="line-288">288</a>        <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-289" id="line-289">289</a>          <span class="nx">caller</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">callee</span><span class="p">.</span><span class="nx">caller</span><span class="p">,</span>
<a class="line-num" href="#line-290" id="line-290">290</a>          <span class="nx">caller_args</span> <span class="o">=</span> <span class="nx">caller</span><span class="p">.</span><span class="nx">arguments</span><span class="p">,</span>
<a class="line-num" href="#line-291" id="line-291">291</a>          <span class="nx">caller_args_len</span> <span class="o">=</span> <span class="nx">caller_args</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-292" id="line-292">292</a>          <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a class="line-num" href="#line-293" id="line-293">293</a>          <span class="nx">message</span> <span class="o">=</span> <span class="s1">&#39;invalid usage of Stryng.&#39;</span> <span class="o">+</span> <span class="nx">caller</span><span class="p">.</span><span class="nx">_name</span> <span class="o">+</span> <span class="s1">&#39;() with args [&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-294" id="line-294">294</a>  
<a class="line-num" href="#line-295" id="line-295">295</a>        <span class="k">for</span><span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">caller_args_len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">){</span>
<a class="line-num" href="#line-296" id="line-296">296</a>          <span class="nx">args</span> <span class="o">+=</span> <span class="nx">caller_args</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-297" id="line-297">297</a>        <span class="p">}</span>
<a class="line-num" href="#line-298" id="line-298">298</a>  
<a class="line-num" href="#line-299" id="line-299">299</a>        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span> <span class="nx">message</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">args</span> <span class="o">?</span> <span class="nx">args</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span> <span class="p">)</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;]. &#39;</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">message</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-300" id="line-300">300</a>  
<a class="line-num" href="#line-301" id="line-301">301</a>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<a class="line-num" href="#line-302" id="line-302">302</a>        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span> <span class="s1">&#39;invalid usage of Stryng member. &#39;</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">message</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-303" id="line-303">303</a>      <span class="p">}</span>
<a class="line-num" href="#line-304" id="line-304">304</a>    <span class="p">}</span>
<a class="line-num" href="#line-305" id="line-305">305</a>  
<a class="line-num" href="#line-306" id="line-306">306</a>  
<a class="line-num" href="#line-307" id="line-307">307</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="type%20safety">
  <h2>
    <a href="#type%20safety" name="type%20safety" class="pilcrow">&#182;</a>
    type safety
  </h2>
</div>


<p>the inner module <code>is</code> holds type checks. this is an excerpt from
my <a href="https://gist.github.com/esnippo/9960508">gist</a> inspired by the
<a href="http://jquery.com">jQuery</a> and <a href="http://underscorejs.org">underscore</a> libraries.</p>

<ul>
<li>provide quick access to precomputed <code>repr</code> within <em>Array#forEach</em> closure</li>
<li>early exit on "falsies"</li>
<li>apply native implementations where available</li>
<li>fix old webkit's bug where <code>typeof regex</code> yields <code>'function'</code> </li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-315" id="line-315">315</a>  
<a class="line-num" href="#line-316" id="line-316">316</a>  
<a class="line-num" href="#line-317" id="line-317">317</a>    <span class="nx">array_forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="p">[</span> <span class="s1">&#39;Array&#39;</span><span class="p">,</span> <span class="s1">&#39;Function&#39;</span><span class="p">,</span> <span class="s1">&#39;RegExp&#39;</span> <span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">klass</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-318" id="line-318">318</a>  
<a class="line-num" href="#line-319" id="line-319">319</a>      <span class="kd">var</span> <span class="nx">repr</span> <span class="o">=</span> <span class="s1">&#39;[object &#39;</span> <span class="o">+</span> <span class="nx">klass</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-320" id="line-320">320</a>      <span class="nx">is</span><span class="p">[</span> <span class="nx">klass</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">any</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-321" id="line-321">321</a>        <span class="k">return</span> <span class="nx">any</span> <span class="o">&amp;&amp;</span> <span class="nx">object_toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">any</span> <span class="p">)</span> <span class="o">===</span> <span class="nx">repr</span><span class="p">;</span>
<a class="line-num" href="#line-322" id="line-322">322</a>      <span class="p">};</span>
<a class="line-num" href="#line-323" id="line-323">323</a>  
<a class="line-num" href="#line-324" id="line-324">324</a>    <span class="p">}</span> <span class="p">);</span>
<a class="line-num" href="#line-325" id="line-325">325</a>  
<a class="line-num" href="#line-326" id="line-326">326</a>    <span class="nx">is</span><span class="p">.</span><span class="nb">Array</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span> <span class="o">||</span> <span class="nx">is</span><span class="p">.</span><span class="nb">Array</span><span class="p">;</span>
<a class="line-num" href="#line-327" id="line-327">327</a>  
<a class="line-num" href="#line-328" id="line-328">328</a>    <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">regex</span> <span class="o">===</span> <span class="s1">&#39;object&#39;</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-329" id="line-329">329</a>      <span class="nx">is</span><span class="p">.</span><span class="nb">Function</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">any</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-330" id="line-330">330</a>        <span class="k">return</span> <span class="nx">any</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">any</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-331" id="line-331">331</a>      <span class="p">};</span>
<a class="line-num" href="#line-332" id="line-332">332</a>    <span class="p">}</span>
<a class="line-num" href="#line-333" id="line-333">333</a>  
<a class="line-num" href="#line-334" id="line-334">334</a>  
<a class="line-num" href="#line-335" id="line-335">335</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="defining%20stryng">
  <h1>
    <a href="#defining%20stryng" name="defining%20stryng" class="pilcrow">&#182;</a>
    defining Stryng
  </h1>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-335" id="line-335">335</a>  
<a class="line-num" href="#line-336" id="line-336">336</a>  
<a class="line-num" href="#line-337" id="line-337">337</a>  
<a class="line-num" href="#line-338" id="line-338">338</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="constructor_NaN">
  <h2>
    <a href="#constructor_NaN" name="constructor_NaN" class="pilcrow">&#182;</a>
    constructor
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-338" id="line-338">338</a>  
<a class="line-num" href="#line-339" id="line-339">339</a>  
<a class="line-num" href="#line-340" id="line-340">340</a>  
<a class="line-num" href="#line-341" id="line-341">341</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[value=""]
</span>
      <span class="dox_type">*</span>
      <span>the value to parse. defaults to the empty string</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[is_mutable=false]
</span>
      <span class="dox_type">boolean</span>
      <span>whether the created instance should be mutable or
  create a new instance from the result of every method call</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Stryng</span>
      <span>-
  the <code>input</code>'s string representation wrapped
  in the instance returned.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-350" id="line-350">350</a>  
<a class="line-num" href="#line-351" id="line-351">351</a>    <span class="kd">function</span> <span class="nx">Stryng</span><span class="p">(</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">is_mutable</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-352" id="line-352">352</a>  
<a class="line-num" href="#line-353" id="line-353">353</a>  
<a class="line-num" href="#line-354" id="line-354">354</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28">&#182;</a>
</div>
<p>allow omitting the new operator</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-353" id="line-353">353</a>  
<a class="line-num" href="#line-354" id="line-354">354</a>      <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="p">(</span> <span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Stryng</span> <span class="p">)</span> <span class="p">)</span> <span class="k">return</span> <span class="k">new</span> <span class="nx">Stryng</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
<a class="line-num" href="#line-355" id="line-355">355</a>  
<a class="line-num" href="#line-356" id="line-356">356</a>  
<a class="line-num" href="#line-357" id="line-357">357</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>the wrapped native string primitive</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Type</div>
    <div class="dox_tag_detail">
      <span class="dox_type">string
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-360" id="line-360">360</a>  
<a class="line-num" href="#line-361" id="line-361">361</a>      <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">=</span> <span class="nx">value</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-362" id="line-362">362</a>  
<a class="line-num" href="#line-363" id="line-363">363</a>  
<a class="line-num" href="#line-364" id="line-364">364</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>whether the created instance should be mutable or
create a new instance from the result of every method call</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Type</div>
    <div class="dox_tag_detail">
      <span class="dox_type">boolean
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-368" id="line-368">368</a>  
<a class="line-num" href="#line-369" id="line-369">369</a>      <span class="k">this</span><span class="p">.</span><span class="nx">_is_mutable</span> <span class="o">=</span> <span class="o">!!</span> <span class="nx">is_mutable</span><span class="p">;</span>
<a class="line-num" href="#line-370" id="line-370">370</a>  
<a class="line-num" href="#line-371" id="line-371">371</a>  
<a class="line-num" href="#line-372" id="line-372">372</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>the <a href="#_value">String#<em>value</a>'s length defined via _Object.defineProperty</em>
if available, simply set onto the instance otherwise.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Type</div>
    <div class="dox_tag_detail">
      <span class="dox_type">number</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-378" id="line-378">378</a>  
<a class="line-num" href="#line-379" id="line-379">379</a>      <span class="k">if</span> <span class="p">(</span> <span class="nx">Object_defineProperty</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-380" id="line-380">380</a>        <span class="nx">Object_defineProperty</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="s1">&#39;length&#39;</span><span class="p">,</span> <span class="p">{</span>
<a class="line-num" href="#line-381" id="line-381">381</a>          <span class="nx">enumerable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
<a class="line-num" href="#line-382" id="line-382">382</a>          <span class="nx">configurable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
<a class="line-num" href="#line-383" id="line-383">383</a>          <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<a class="line-num" href="#line-384" id="line-384">384</a>            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">.</span><span class="nx">length</span>
<a class="line-num" href="#line-385" id="line-385">385</a>          <span class="p">}</span>
<a class="line-num" href="#line-386" id="line-386">386</a>        <span class="p">}</span> <span class="p">);</span>
<a class="line-num" href="#line-387" id="line-387">387</a>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<a class="line-num" href="#line-388" id="line-388">388</a>        <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-389" id="line-389">389</a>      <span class="p">}</span>
<a class="line-num" href="#line-390" id="line-390">390</a>    <span class="p">}</span>
<a class="line-num" href="#line-391" id="line-391">391</a>  
<a class="line-num" href="#line-392" id="line-392">392</a>  
<a class="line-num" href="#line-393" id="line-393">393</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="cloning%20mutables">
  <h2>
    <a href="#cloning%20mutables" name="cloning%20mutables" class="pilcrow">&#182;</a>
    cloning mutables
  </h2>
</div>


<div class="dox">
  <div class="summary"><p>in case the instance was not constructed to be mutable
this is the hook to get a copy of it. delegates to <a href="#Stryng">Stryng#constructor</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[is_mutable=false]
</span>
      <span class="dox_type">boolean</span>
      <span>whether the cloned instance should be mutable or
  create a new instance from the internal result of every method call</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Stryng</span>
      <span>-
  a copy of the <em>Stryng</em> instance</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-402" id="line-402">402</a>  
<a class="line-num" href="#line-403" id="line-403">403</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">clone</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">is_mutable</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-404" id="line-404">404</a>      <span class="k">return</span> <span class="k">new</span> <span class="nx">Stryng</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">,</span> <span class="nx">is_mutable</span> <span class="p">);</span>
<a class="line-num" href="#line-405" id="line-405">405</a>    <span class="p">};</span>
<a class="line-num" href="#line-406" id="line-406">406</a>  
<a class="line-num" href="#line-407" id="line-407">407</a>  
<a class="line-num" href="#line-408" id="line-408">408</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="instance%20methods%20%26amp%3B%20static%20functions">
  <h2>
    <a href="#instance%20methods%20%26amp%3B%20static%20functions" name="instance%20methods%20%26amp%3B%20static%20functions" class="pilcrow">&#182;</a>
    instance methods &amp; static functions
  </h2>
</div>


<p>the herein defined methods will be available as both
static functions on the <code>Stryng</code> namespace and instance methods
of the <code>Stryng</code> class. they are declared as static but <strong>documented as
instance methods</strong>, which makes it a lot shorter, less verbose and
easier to highlight the fact that all instance methods are availabe
as static ones but <strong>not vice versa</strong>. the one exception to this is <a href="#clone">Stryng#clone</a>
which only lives on <em>Stryng</em>'s prototype.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-415" id="line-415">415</a>  
<a class="line-num" href="#line-416" id="line-416">416</a>  
<a class="line-num" href="#line-417" id="line-417">417</a>  
<a class="line-num" href="#line-418" id="line-418">418</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-419" id="line-419">419</a>  
<a class="line-num" href="#line-420" id="line-420">420</a>    <span class="kd">var</span> <span class="nx">stryng_members</span> <span class="o">=</span> <span class="p">{</span>
<a class="line-num" href="#line-421" id="line-421">421</a>  
<a class="line-num" href="#line-422" id="line-422">422</a>  
<a class="line-num" href="#line-423" id="line-423">423</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>shim for native <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.5.4.20">String#trim</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string
</span>
      <span>{string}</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-425" id="line-425">425</a>  
<a class="line-num" href="#line-426" id="line-426">426</a>      <span class="nx">trim</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-427" id="line-427">427</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span>
<a class="line-num" href="#line-428" id="line-428">428</a>          <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span>
<a class="line-num" href="#line-429" id="line-429">429</a>          <span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">re_trim_left</span><span class="p">,</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-430" id="line-430">430</a>          <span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">re_trim_right</span><span class="p">,</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-431" id="line-431">431</a>      <span class="p">},</span>
<a class="line-num" href="#line-432" id="line-432">432</a>  
<a class="line-num" href="#line-433" id="line-433">433</a>  
<a class="line-num" href="#line-434" id="line-434">434</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>shim for non-standard <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/TrimLeft">String#trimLeft</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string
</span>
      <span>{string}</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-436" id="line-436">436</a>  
<a class="line-num" href="#line-437" id="line-437">437</a>      <span class="nx">trimLeft</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-438" id="line-438">438</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">re_trim_left</span><span class="p">,</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-439" id="line-439">439</a>      <span class="p">},</span>
<a class="line-num" href="#line-440" id="line-440">440</a>  
<a class="line-num" href="#line-441" id="line-441">441</a>  
<a class="line-num" href="#line-442" id="line-442">442</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>shim for non-standard <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/TrimRight">String#trimRight</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string
</span>
      <span>{string}</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-444" id="line-444">444</a>  
<a class="line-num" href="#line-445" id="line-445">445</a>      <span class="nx">trimRight</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-446" id="line-446">446</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">re_trim_right</span><span class="p">,</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-447" id="line-447">447</a>      <span class="p">},</span>
<a class="line-num" href="#line-448" id="line-448">448</a>  
<a class="line-num" href="#line-449" id="line-449">449</a>  
<a class="line-num" href="#line-450" id="line-450">450</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>shim for native <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/contains">String#contains</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[search="undefined"]</span>
      <span class="dox_type">string</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[index=0]</span>
      <span class="dox_type">number</span>
      <span>the index to start searching</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">boolean</span>
      <span>-
  whether or not <code>input</code> contains the substring <code>search</code></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-455" id="line-455">455</a>  
<a class="line-num" href="#line-456" id="line-456">456</a>      <span class="nx">contains</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">start</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-457" id="line-457">457</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">start</span> <span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-458" id="line-458">458</a>      <span class="p">},</span>
<a class="line-num" href="#line-459" id="line-459">459</a>  
<a class="line-num" href="#line-460" id="line-460">460</a>  
<a class="line-num" href="#line-461" id="line-461">461</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>shim for native <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-string.prototype.startswith">String#startsWith</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[search="undefined"]</span>
      <span class="dox_type">string</span>
      <span class="dox_type">RegExp</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[position=0]</span>
      <span class="dox_type">number</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">boolean</span>
      <span>-
  whether or not <code>input</code> at index <code>position</code>
  begins with substring <code>search</code></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-467" id="line-467">467</a>  
<a class="line-num" href="#line-468" id="line-468">468</a>      <span class="nx">startsWith</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">position</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-469" id="line-469">469</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-470" id="line-470">470</a>  
<a class="line-num" href="#line-471" id="line-471">471</a>  
<a class="line-num" href="#line-472" id="line-472">472</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40">&#182;</a>
</div>
<ul>
<li>if <code>search</code> is a regular expression,
return whether or not it matches the beginning of
this' string starting at <code>position</code>.</li>
<li>otherwise let <code>i</code> be the index returned by <em>String#indexOf</em>.
let <code>position</code> and <code>search</code> be parsed correctly internally</li>
<li>return <code>false</code> if not found i.e. <code>i === -1</code></li>
<li>let <code>input_len</code> be this' string's length</li>
<li>parse the <code>position</code> argument by the following rules
<ul><li>default and min to zero</li>
<li>max to <code>input_len</code></li>
<li>floor if positive parsable, zero if <code>NaN</code></li></ul></li>
<li>return whether or not <code>i</code> equals the above's result</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-482" id="line-482">482</a>  
<a class="line-num" href="#line-483" id="line-483">483</a>  
<a class="line-num" href="#line-484" id="line-484">484</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">is</span><span class="p">.</span><span class="nb">RegExp</span><span class="p">(</span> <span class="nx">search</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-485" id="line-485">485</a>          <span class="k">return</span> <span class="o">!</span><span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="nx">position</span> <span class="p">).</span><span class="nx">search</span><span class="p">(</span> <span class="nx">search</span> <span class="p">);</span>
<a class="line-num" href="#line-486" id="line-486">486</a>        <span class="p">}</span>
<a class="line-num" href="#line-487" id="line-487">487</a>  
<a class="line-num" href="#line-488" id="line-488">488</a>        <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">position</span> <span class="p">),</span>
<a class="line-num" href="#line-489" id="line-489">489</a>          <span class="nx">input_len</span><span class="p">;</span>
<a class="line-num" href="#line-490" id="line-490">490</a>  
<a class="line-num" href="#line-491" id="line-491">491</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<a class="line-num" href="#line-492" id="line-492">492</a>  
<a class="line-num" href="#line-493" id="line-493">493</a>        <span class="nx">input_len</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-494" id="line-494">494</a>        <span class="k">return</span> <span class="nx">i</span> <span class="o">===</span> <span class="p">(</span>
<a class="line-num" href="#line-495" id="line-495">495</a>          <span class="nx">position</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">position</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span>
<a class="line-num" href="#line-496" id="line-496">496</a>          <span class="nx">position</span> <span class="o">&gt;</span> <span class="nx">input_len</span> <span class="o">?</span> <span class="nx">input_len</span> <span class="o">:</span>
<a class="line-num" href="#line-497" id="line-497">497</a>          <span class="nx">Math_floor</span><span class="p">(</span> <span class="nx">position</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span>
<a class="line-num" href="#line-498" id="line-498">498</a>        <span class="p">);</span>
<a class="line-num" href="#line-499" id="line-499">499</a>      <span class="p">},</span>
<a class="line-num" href="#line-500" id="line-500">500</a>  
<a class="line-num" href="#line-501" id="line-501">501</a>  
<a class="line-num" href="#line-502" id="line-502">502</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>shim for native <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-string.prototype.endswith">String#endsWith</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[search="undefined"]</span>
      <span class="dox_type">string</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[end_position=input.length]</span>
      <span class="dox_type">number</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">boolean</span>
      <span>-
  whether or not <code>input</code> truncated by <code>end_position</code>
  ends with substring <code>search</code>.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-508" id="line-508">508</a>  
<a class="line-num" href="#line-509" id="line-509">509</a>      <span class="nx">endsWith</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">end_position</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-510" id="line-510">510</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-511" id="line-511">511</a>  
<a class="line-num" href="#line-512" id="line-512">512</a>  
<a class="line-num" href="#line-513" id="line-513">513</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42">&#182;</a>
</div>
<ul>
<li>let <code>input_len</code> be this' string's length</li>
<li>parse the <code>end_position</code> argument by the following rules
<ul><li>default and max to <code>input_len</code></li>
<li>min to zero</li>
<li>floor if parsable, zero if <code>NaN</code></li></ul></li>
<li>if <code>search</code> is a regular expression
<ul><li>throw an error if the regular expression does not match the
end of its input i.e. does not end with <code>'$'</code></li>
<li>truncate this' string at <code>end_position</code></li>
<li>return whether or not <code>search</code> matches the above's result</li></ul></li>
<li>otherwise let <code>i</code> be the index returned by <em>String#lastIndexOf</em>.
let <code>position</code> and <code>search</code> be parsed correctly internally</li>
<li>return <code>false</code> if not found i.e. <code>i === -1</code></li>
<li>return whether or not <code>i</code> equals the above's result</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-525" id="line-525">525</a>  
<a class="line-num" href="#line-526" id="line-526">526</a>  
<a class="line-num" href="#line-527" id="line-527">527</a>        <span class="kd">var</span> <span class="nx">input_len</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-528" id="line-528">528</a>          <span class="nx">i</span><span class="p">,</span>
<a class="line-num" href="#line-529" id="line-529">529</a>          <span class="nx">end_position</span> <span class="o">=</span> <span class="p">(</span>
<a class="line-num" href="#line-530" id="line-530">530</a>            <span class="nx">end_position</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">end_position</span> <span class="o">&gt;</span> <span class="nx">input_len</span> <span class="o">?</span> <span class="nx">input_len</span> <span class="o">:</span>
<a class="line-num" href="#line-531" id="line-531">531</a>            <span class="nx">end_position</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span>
<a class="line-num" href="#line-532" id="line-532">532</a>            <span class="nx">Math_floor</span><span class="p">(</span> <span class="nx">end_position</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span>
<a class="line-num" href="#line-533" id="line-533">533</a>          <span class="p">);</span>
<a class="line-num" href="#line-534" id="line-534">534</a>  
<a class="line-num" href="#line-535" id="line-535">535</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">is</span><span class="p">.</span><span class="nb">RegExp</span><span class="p">(</span> <span class="nx">search</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-536" id="line-536">536</a>  
<a class="line-num" href="#line-537" id="line-537">537</a>          <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">re_source_matches_end</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">search</span><span class="p">.</span><span class="nx">source</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-538" id="line-538">538</a>            <span class="nx">exit</span><span class="p">(</span> <span class="s1">&#39;&quot;search&quot; must match end i.e. end with &quot;$&quot;&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-539" id="line-539">539</a>          <span class="p">}</span>
<a class="line-num" href="#line-540" id="line-540">540</a>  
<a class="line-num" href="#line-541" id="line-541">541</a>          <span class="k">return</span> <span class="nx">search</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">end_position</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-542" id="line-542">542</a>        <span class="p">}</span>
<a class="line-num" href="#line-543" id="line-543">543</a>  
<a class="line-num" href="#line-544" id="line-544">544</a>        <span class="nx">search</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">search</span> <span class="p">);</span>
<a class="line-num" href="#line-545" id="line-545">545</a>  
<a class="line-num" href="#line-546" id="line-546">546</a>        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">search</span> <span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<a class="line-num" href="#line-547" id="line-547">547</a>  
<a class="line-num" href="#line-548" id="line-548">548</a>        <span class="nx">i</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">end_position</span> <span class="p">);</span>
<a class="line-num" href="#line-549" id="line-549">549</a>  
<a class="line-num" href="#line-550" id="line-550">550</a>        <span class="k">return</span> <span class="nx">i</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">+</span> <span class="nx">search</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="nx">end_position</span> <span class="p">);</span>
<a class="line-num" href="#line-551" id="line-551">551</a>      <span class="p">},</span>
<a class="line-num" href="#line-552" id="line-552">552</a>  
<a class="line-num" href="#line-553" id="line-553">553</a>  
<a class="line-num" href="#line-554" id="line-554">554</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>shim for native <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-string.prototype.repeat">String#repeat</a>.
reduction of concat operations inspired by <a href="https://github.com/mout/mout/blob/v0.9.0/src/string/repeat.js">mout/string/repeat</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=0]</span>
      <span class="dox_type">number</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  this' string <code>n</code> times concatenated to the empty string.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-560" id="line-560">560</a>  
<a class="line-num" href="#line-561" id="line-561">561</a>      <span class="nx">repeat</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-562" id="line-562">562</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">input</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">n</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="nx">n</span> <span class="o">==</span> <span class="nx">INFINITY</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-563" id="line-563">563</a>  
<a class="line-num" href="#line-564" id="line-564">564</a>        <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">Math_floor</span><span class="p">(</span> <span class="nx">n</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-565" id="line-565">565</a>  
<a class="line-num" href="#line-566" id="line-566">566</a>        <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-567" id="line-567">567</a>  
<a class="line-num" href="#line-568" id="line-568">568</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-569" id="line-569">569</a>          <span class="k">if</span> <span class="p">(</span> <span class="nx">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-570" id="line-570">570</a>            <span class="nx">result</span> <span class="o">+=</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-571" id="line-571">571</a>          <span class="p">}</span>
<a class="line-num" href="#line-572" id="line-572">572</a>          <span class="nx">n</span> <span class="o">=</span> <span class="nx">Math_floor</span><span class="p">(</span> <span class="nx">n</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">);</span>
<a class="line-num" href="#line-573" id="line-573">573</a>          <span class="nx">input</span> <span class="o">+=</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-574" id="line-574">574</a>        <span class="p">}</span>
<a class="line-num" href="#line-575" id="line-575">575</a>        <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-576" id="line-576">576</a>      <span class="p">},</span>
<a class="line-num" href="#line-577" id="line-577">577</a>  
<a class="line-num" href="#line-578" id="line-578">578</a>  
<a class="line-num" href="#line-579" id="line-579">579</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>shim for native <a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-string.prototype.substr">String#substr</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[position=0]</span>
      <span class="dox_type">number</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[length=length-position]</span>
      <span class="dox_type">number</span>
      <span>this' string's length minus <code>position</code></span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string
</span>
      <span>{string}</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-583" id="line-583">583</a>  
<a class="line-num" href="#line-584" id="line-584">584</a>      <span class="nx">substr</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">position</span><span class="p">,</span> <span class="nx">length</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-585" id="line-585">585</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-586" id="line-586">586</a>  
<a class="line-num" href="#line-587" id="line-587">587</a>  
<a class="line-num" href="#line-588" id="line-588">588</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45">&#182;</a>
</div>
<ul>
<li>parse the <code>position</code> argument.
<ul><li>if <code>Number_toInteger( position )</code> is negative, add <code>input.length</code></li>
<li>if it still is negative, set it to zero</li></ul></li>
<li>leave it up to <code>substr</code>'s implicit parsing any otherwise</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-590" id="line-590">590</a>  
<a class="line-num" href="#line-591" id="line-591">591</a>        <span class="nx">position</span> <span class="o">=</span> <span class="nx">position</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">?</span> <span class="p">(</span> <span class="nx">position</span> <span class="o">=</span> <span class="nx">Number_toInteger</span><span class="p">(</span> <span class="nx">position</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">position</span> <span class="o">:</span> <span class="nx">position</span><span class="p">;</span>
<a class="line-num" href="#line-592" id="line-592">592</a>  
<a class="line-num" href="#line-593" id="line-593">593</a>        <span class="k">return</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span> <span class="nx">position</span><span class="p">,</span> <span class="nx">length</span> <span class="p">);</span>
<a class="line-num" href="#line-594" id="line-594">594</a>      <span class="p">},</span>
<a class="line-num" href="#line-595" id="line-595">595</a>  
<a class="line-num" href="#line-596" id="line-596">596</a>  
<a class="line-num" href="#line-597" id="line-597">597</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>prepends and appends <code>outfix</code> to <code>input</code> in one go.
to do the opposite use <a href="#strip">Stryng.strip</a>.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[outfix="undefined"]</span>
      <span class="dox_type">string</span>
      <span>prefix and suffix</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=0]</span>
      <span class="dox_type">number</span>
      <span>number of operations</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-603" id="line-603">603</a>  
<a class="line-num" href="#line-604" id="line-604">604</a>      <span class="nx">wrap</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">outfix</span><span class="p">,</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-605" id="line-605">605</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">input</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-606" id="line-606">606</a>  
<a class="line-num" href="#line-607" id="line-607">607</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47">&#182;</a>
</div>
<p>implies parsing <code>outfix</code> and <code>n</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-606" id="line-606">606</a>  
<a class="line-num" href="#line-607" id="line-607">607</a>        <span class="nx">outfix</span> <span class="o">=</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">repeat</span><span class="p">(</span> <span class="nx">outfix</span><span class="p">,</span> <span class="nx">n</span> <span class="p">);</span>
<a class="line-num" href="#line-608" id="line-608">608</a>        <span class="k">return</span> <span class="nx">outfix</span> <span class="o">+</span> <span class="nx">input</span> <span class="o">+</span> <span class="nx">outfix</span><span class="p">;</span>
<a class="line-num" href="#line-609" id="line-609">609</a>      <span class="p">},</span>
<a class="line-num" href="#line-610" id="line-610">610</a>  
<a class="line-num" href="#line-611" id="line-611">611</a>  
<a class="line-num" href="#line-612" id="line-612">612</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[search="undefined"]
</span>
      <span class="dox_type">string</span>
      <span>substring to search for</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">number</span>
      <span>-
  number of non-overlapping occurrences of <code>search</code> within <code>input</code>.
  the empty string is considered a <em>character boundary</em>
  thus <code>input.length + 1</code> will always be the result for that.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-618" id="line-618">618</a>  
<a class="line-num" href="#line-619" id="line-619">619</a>      <span class="nx">count</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">search</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-620" id="line-620">620</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-621" id="line-621">621</a>  
<a class="line-num" href="#line-622" id="line-622">622</a>        <span class="nx">search</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">search</span> <span class="p">);</span>
<a class="line-num" href="#line-623" id="line-623">623</a>  
<a class="line-num" href="#line-624" id="line-624">624</a>  
<a class="line-num" href="#line-625" id="line-625">625</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49">&#182;</a>
</div>
<p>early exit for the empty search</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-624" id="line-624">624</a>  
<a class="line-num" href="#line-625" id="line-625">625</a>        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">search</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a class="line-num" href="#line-626" id="line-626">626</a>  
<a class="line-num" href="#line-627" id="line-627">627</a>        <span class="kd">var</span> <span class="nx">length</span> <span class="o">=</span> <span class="nx">search</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-628" id="line-628">628</a>          <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a class="line-num" href="#line-629" id="line-629">629</a>          <span class="nx">i</span> <span class="o">=</span> <span class="o">-</span><span class="nx">length</span><span class="p">;</span> <span class="c1">// prepare first run</span>
<a class="line-num" href="#line-630" id="line-630">630</a>  
<a class="line-num" href="#line-631" id="line-631">631</a>        <span class="k">do</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">search</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="nx">length</span> <span class="p">);</span>
<a class="line-num" href="#line-632" id="line-632">632</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="o">++</span><span class="nx">count</span> <span class="p">)</span>
<a class="line-num" href="#line-633" id="line-633">633</a>  
<a class="line-num" href="#line-634" id="line-634">634</a>        <span class="k">return</span> <span class="nx">count</span><span class="p">;</span>
<a class="line-num" href="#line-635" id="line-635">635</a>      <span class="p">},</span>
<a class="line-num" href="#line-636" id="line-636">636</a>  
<a class="line-num" href="#line-637" id="line-637">637</a>  
<a class="line-num" href="#line-638" id="line-638">638</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>delegates to <em>Arrray#join</em>.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[joinees=[]]</span>
      <span class="dox_type">...string</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  <code>joinees</code> joined by native <code>Array.prototype.join</code>.
  return the empty string if no second, third .. argument is passed</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-647" id="line-647">647</a>  
<a class="line-num" href="#line-648" id="line-648">648</a>      <span class="nx">join</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="cm">/*, string... */</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-649" id="line-649">649</a>        <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">;</span> <span class="c1">// promote compression</span>
<a class="line-num" href="#line-650" id="line-650">650</a>  
<a class="line-num" href="#line-651" id="line-651">651</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">delimiter</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-652" id="line-652">652</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">args</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span> <span class="p">)</span> <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-653" id="line-653">653</a>  
<a class="line-num" href="#line-654" id="line-654">654</a>        <span class="k">return</span> <span class="nx">array_slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">args</span><span class="p">,</span> <span class="mi">1</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">);</span>
<a class="line-num" href="#line-655" id="line-655">655</a>      <span class="p">},</span>
<a class="line-num" href="#line-656" id="line-656">656</a>  
<a class="line-num" href="#line-657" id="line-657">657</a>  
<a class="line-num" href="#line-658" id="line-658">658</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>this is a naive implementation of reversing a string.
for an alternative that know how to properly reverse
diacritics and accented character use <a href="https://github.com/mathiasbynens/esrever">esrever</a>.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  the reversed string. usefull yet unefficient to verify palindroms.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-663" id="line-663">663</a>  
<a class="line-num" href="#line-664" id="line-664">664</a>      <span class="nx">reverse</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-665" id="line-665">665</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span>
<a class="line-num" href="#line-666" id="line-666">666</a>          <span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-667" id="line-667">667</a>          <span class="p">.</span><span class="nx">reverse</span><span class="p">()</span>
<a class="line-num" href="#line-668" id="line-668">668</a>          <span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-669" id="line-669">669</a>      <span class="p">},</span>
<a class="line-num" href="#line-670" id="line-670">670</a>  
<a class="line-num" href="#line-671" id="line-671">671</a>  
<a class="line-num" href="#line-672" id="line-672">672</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[position=0]</span>
      <span class="dox_type">number</span>
      <span>index of insertion, can be negative</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[insertion="undefined"]</span>
      <span class="dox_type">string</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  the <code>input</code> split at <code>position</code> and rejoined using <code>insertion</code> as the delimiter</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-676" id="line-676">676</a>  
<a class="line-num" href="#line-677" id="line-677">677</a>      <span class="nx">insert</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">position</span><span class="p">,</span> <span class="nx">insertion</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-678" id="line-678">678</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-679" id="line-679">679</a>  
<a class="line-num" href="#line-680" id="line-680">680</a>  
<a class="line-num" href="#line-681" id="line-681">681</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53">&#182;</a>
</div>
<p>slice's native parsing will apply different
defaults for <code>undefined</code> to the first and second argument</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-681" id="line-681">681</a>  
<a class="line-num" href="#line-682" id="line-682">682</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">position</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="p">)</span> <span class="nx">position</span> <span class="o">=</span> <span class="nx">Number_toInteger</span><span class="p">(</span> <span class="nx">position</span> <span class="p">);</span>
<a class="line-num" href="#line-683" id="line-683">683</a>  
<a class="line-num" href="#line-684" id="line-684">684</a>  
<a class="line-num" href="#line-685" id="line-685">685</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54">&#182;</a>
</div>
<p>implies parsing <code>insertion</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-684" id="line-684">684</a>  
<a class="line-num" href="#line-685" id="line-685">685</a>        <span class="k">return</span> <span class="nx">input</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">position</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">insertion</span> <span class="o">+</span> <span class="nx">input</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">position</span> <span class="p">);</span>
<a class="line-num" href="#line-686" id="line-686">686</a>      <span class="p">},</span>
<a class="line-num" href="#line-687" id="line-687">687</a>  
<a class="line-num" href="#line-688" id="line-688">688</a>  
<a class="line-num" href="#line-689" id="line-689">689</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[delimiter="undefined"]</span>
      <span class="dox_type">string</span>
      <span class="dox_type">RegExp</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=Math.pow(2,32)-1]
</span>
      <span class="dox_type">number</span>
      <span>maximum number of split operations.
  as per <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.5.4.14">ecma-262/5.1</a></span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string[]</span>
      <span>-
  the <code>input</code> split by the given <code>delimiter</code>
  with anything past the <code>n</code>th occurrence of
  <code>delimiter</code> untouched yet included in the array.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-697" id="line-697">697</a>  
<a class="line-num" href="#line-698" id="line-698">698</a>      <span class="nx">splitLeft</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">delimiter</span><span class="p">,</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-699" id="line-699">699</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-700" id="line-700">700</a>  
<a class="line-num" href="#line-701" id="line-701">701</a>  
<a class="line-num" href="#line-702" id="line-702">702</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56">&#182;</a>
</div>
<ul>
<li>parse <code>n</code> with <code>toUInt32</code>, default to <code>Math.pow(2, 32) - 1</code></li>
<li>return the empty array if <code>n</code> is zero</li>
<li>let <code>result</code> be the array to return</li>
<li>if <code>delimiter</code> is a regular expression
<ul><li>extract <code>n</code> matches using <em>String#match</em> combined with
subsequently front-cutting this' string. using <em>RegExp#exec</em>
would require the regex's <em>global</em> flag to be set.</li>
<li>push the substrings between the matches and any captured groups to <code>result</code></li></ul></li>
<li>otherwise let <code>result</code> be the result of <em>String#split</em>
called on this' string with <code>delimiter</code></li>
<li>if argument <code>n</code> is lesser than <code>result.length</code>
<ul><li>remove the last <code>result.length - n</code> items from <code>result</code></li>
<li>rejoin them using <code>delimiter</code></li>
<li>push them to <code>result</code> as one</li></ul></li>
<li>return <code>result</code></li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-715" id="line-715">715</a>  
<a class="line-num" href="#line-716" id="line-716">716</a>        <span class="nx">n</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">n</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">n</span> <span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-717" id="line-717">717</a>  
<a class="line-num" href="#line-718" id="line-718">718</a>        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">n</span> <span class="p">)</span> <span class="k">return</span> <span class="p">[];</span>
<a class="line-num" href="#line-719" id="line-719">719</a>  
<a class="line-num" href="#line-720" id="line-720">720</a>        <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">[],</span>
<a class="line-num" href="#line-721" id="line-721">721</a>          <span class="nx">match</span><span class="p">,</span>
<a class="line-num" href="#line-722" id="line-722">722</a>          <span class="nx">index</span><span class="p">,</span>
<a class="line-num" href="#line-723" id="line-723">723</a>          <span class="nx">lastIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a class="line-num" href="#line-724" id="line-724">724</a>          <span class="nx">diff</span><span class="p">;</span>
<a class="line-num" href="#line-725" id="line-725">725</a>  
<a class="line-num" href="#line-726" id="line-726">726</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">is</span><span class="p">.</span><span class="nb">RegExp</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-727" id="line-727">727</a>          <span class="k">while</span> <span class="p">(</span> <span class="nx">n</span><span class="o">--</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">match</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-728" id="line-728">728</a>            <span class="nx">index</span> <span class="o">=</span> <span class="nx">match</span><span class="p">.</span><span class="nx">index</span><span class="p">;</span>
<a class="line-num" href="#line-729" id="line-729">729</a>            <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">index</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-730" id="line-730">730</a>            <span class="nx">lastIndex</span> <span class="o">=</span> <span class="nx">index</span> <span class="o">+</span> <span class="nx">match</span><span class="p">.</span><span class="nx">shift</span><span class="p">().</span><span class="nx">length</span><span class="p">;</span> <span class="c1">// mutates `match`</span>
<a class="line-num" href="#line-731" id="line-731">731</a>            <span class="k">if</span> <span class="p">(</span> <span class="nx">lastIndex</span> <span class="o">&lt;=</span> <span class="nx">index</span> <span class="p">)</span> <span class="nx">lastIndex</span> <span class="o">=</span> <span class="nx">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// avoid endless loop</span>
<a class="line-num" href="#line-732" id="line-732">732</a>            <span class="k">if</span> <span class="p">(</span> <span class="nx">match</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="nx">array_push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">result</span><span class="p">,</span> <span class="nx">match</span> <span class="p">);</span> <span class="c1">// mutate instead of recreate as concat would</span>
<a class="line-num" href="#line-733" id="line-733">733</a>            <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="nx">lastIndex</span> <span class="p">);</span>
<a class="line-num" href="#line-734" id="line-734">734</a>          <span class="p">}</span>
<a class="line-num" href="#line-735" id="line-735">735</a>          <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span> <span class="c1">// push what&#39;s left</span>
<a class="line-num" href="#line-736" id="line-736">736</a>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<a class="line-num" href="#line-737" id="line-737">737</a>          <span class="nx">delimiter</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">);</span>
<a class="line-num" href="#line-738" id="line-738">738</a>          <span class="nx">result</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">);</span>
<a class="line-num" href="#line-739" id="line-739">739</a>          <span class="nx">diff</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">n</span><span class="p">;</span>
<a class="line-num" href="#line-740" id="line-740">740</a>          <span class="k">if</span> <span class="p">(</span> <span class="nx">diff</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-741" id="line-741">741</a>            <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="nx">n</span><span class="p">,</span> <span class="nx">diff</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">)</span> <span class="p">);</span> <span class="c1">// implies parsing delimiter</span>
<a class="line-num" href="#line-742" id="line-742">742</a>          <span class="p">}</span>
<a class="line-num" href="#line-743" id="line-743">743</a>        <span class="p">}</span>
<a class="line-num" href="#line-744" id="line-744">744</a>  
<a class="line-num" href="#line-745" id="line-745">745</a>        <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-746" id="line-746">746</a>      <span class="p">},</span>
<a class="line-num" href="#line-747" id="line-747">747</a>  
<a class="line-num" href="#line-748" id="line-748">748</a>  
<a class="line-num" href="#line-749" id="line-749">749</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>the right-associative version of <a href="#splitLeft">Stryng.splitLeft</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[delimiter="undefined"]</span>
      <span class="dox_type">string</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=Math.pow(2,32)-1]
</span>
      <span class="dox_type">number</span>
      <span>maximum number of split operations.
  defaults to the number of non-overlapping occurrences of <code>delimiter</code></span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string[]</span>
      <span>-
  the <code>input</code> split by the given <code>delimiter</code>
  with anything in front of the <code>n</code>th occurrence of
  <code>delimiter</code> - counting backwards - untouched yet included in the array.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-758" id="line-758">758</a>  
<a class="line-num" href="#line-759" id="line-759">759</a>      <span class="nx">splitRight</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">delimiter</span><span class="p">,</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-760" id="line-760">760</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-761" id="line-761">761</a>  
<a class="line-num" href="#line-762" id="line-762">762</a>  
<a class="line-num" href="#line-763" id="line-763">763</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58">&#182;</a>
</div>
<ul>
<li>parse <code>n</code> with <code>toUInt32</code>, default to <code>Math.pow(2, 32) - 1</code></li>
<li>return the empty array if <code>n</code> is zero</li>
<li>if <code>delimiter</code> is a regular expression
<ul><li>check its source if it matches a string's end by <code>$</code></li>
<li>extract <code>n</code> matches using <em>String#match</em> combined with
subsequently truncating this' string.</li>
<li>unshift the substrings between the matches and any captured groups to <code>result</code></li></ul></li>
<li>otherwise let <code>result</code> be the result of <em>String#split</em>
called on this' string with <code>delimiter</code></li>
<li>if argument <code>n</code> is lesser than <code>result.length</code>
<ul><li>remove the first <code>n</code> items from <code>result</code></li>
<li>rejoin them using <code>delimiter</code></li>
<li>unshift them to <code>result</code> as one</li></ul></li>
<li>return <code>result</code></li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-775" id="line-775">775</a>  
<a class="line-num" href="#line-776" id="line-776">776</a>  
<a class="line-num" href="#line-777" id="line-777">777</a>        <span class="nx">n</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">n</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">n</span> <span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-778" id="line-778">778</a>  
<a class="line-num" href="#line-779" id="line-779">779</a>        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">n</span> <span class="p">)</span> <span class="k">return</span> <span class="p">[];</span>
<a class="line-num" href="#line-780" id="line-780">780</a>  
<a class="line-num" href="#line-781" id="line-781">781</a>        <span class="kd">var</span> <span class="nx">result</span><span class="p">,</span>
<a class="line-num" href="#line-782" id="line-782">782</a>          <span class="nx">index</span><span class="p">,</span>
<a class="line-num" href="#line-783" id="line-783">783</a>          <span class="nx">lastIndex</span><span class="p">,</span>
<a class="line-num" href="#line-784" id="line-784">784</a>          <span class="nx">match</span><span class="p">,</span>
<a class="line-num" href="#line-785" id="line-785">785</a>          <span class="nx">diff</span><span class="p">;</span>
<a class="line-num" href="#line-786" id="line-786">786</a>  
<a class="line-num" href="#line-787" id="line-787">787</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">is</span><span class="p">.</span><span class="nb">RegExp</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-788" id="line-788">788</a>  
<a class="line-num" href="#line-789" id="line-789">789</a>          <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">re_source_matches_end</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">delimiter</span><span class="p">.</span><span class="nx">source</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-790" id="line-790">790</a>            <span class="nx">exit</span><span class="p">(</span> <span class="s1">&#39;&quot;delimiter&quot; must match end i.e. end with &quot;$&quot;&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-791" id="line-791">791</a>          <span class="p">}</span>
<a class="line-num" href="#line-792" id="line-792">792</a>  
<a class="line-num" href="#line-793" id="line-793">793</a>          <span class="k">while</span> <span class="p">(</span> <span class="nx">n</span><span class="o">--</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">match</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-794" id="line-794">794</a>            <span class="nx">index</span> <span class="o">=</span> <span class="nx">match</span><span class="p">.</span><span class="nx">index</span><span class="p">;</span>
<a class="line-num" href="#line-795" id="line-795">795</a>            <span class="nx">lastIndex</span> <span class="o">=</span> <span class="nx">index</span> <span class="o">+</span> <span class="nx">match</span><span class="p">.</span><span class="nx">shift</span><span class="p">().</span><span class="nx">length</span><span class="p">;</span> <span class="c1">// mutates `match`</span>
<a class="line-num" href="#line-796" id="line-796">796</a>            <span class="nx">result</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="nx">lastIndex</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-797" id="line-797">797</a>            <span class="k">if</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">&gt;=</span> <span class="nx">lastIndex</span> <span class="p">)</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">lastIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// avoid endless loop</span>
<a class="line-num" href="#line-798" id="line-798">798</a>            <span class="k">if</span> <span class="p">(</span> <span class="nx">match</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="nx">array_unshift</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">result</span><span class="p">,</span> <span class="nx">match</span> <span class="p">);</span> <span class="c1">// mutate instead of recreate as concat would</span>
<a class="line-num" href="#line-799" id="line-799">799</a>            <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">index</span> <span class="p">);</span>
<a class="line-num" href="#line-800" id="line-800">800</a>          <span class="p">}</span>
<a class="line-num" href="#line-801" id="line-801">801</a>          <span class="nx">result</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span> <span class="c1">// unshift what&#39;s right</span>
<a class="line-num" href="#line-802" id="line-802">802</a>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<a class="line-num" href="#line-803" id="line-803">803</a>  
<a class="line-num" href="#line-804" id="line-804">804</a>          <span class="nx">delimiter</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">);</span>
<a class="line-num" href="#line-805" id="line-805">805</a>          <span class="nx">result</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">),</span>
<a class="line-num" href="#line-806" id="line-806">806</a>          <span class="nx">diff</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">n</span><span class="p">;</span>
<a class="line-num" href="#line-807" id="line-807">807</a>  
<a class="line-num" href="#line-808" id="line-808">808</a>          <span class="k">if</span> <span class="p">(</span> <span class="nx">diff</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-809" id="line-809">809</a>            <span class="nx">result</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">diff</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="nx">delimiter</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-810" id="line-810">810</a>          <span class="p">}</span>
<a class="line-num" href="#line-811" id="line-811">811</a>        <span class="p">}</span>
<a class="line-num" href="#line-812" id="line-812">812</a>  
<a class="line-num" href="#line-813" id="line-813">813</a>        <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-814" id="line-814">814</a>      <span class="p">},</span>
<a class="line-num" href="#line-815" id="line-815">815</a>  
<a class="line-num" href="#line-816" id="line-816">816</a>  
<a class="line-num" href="#line-817" id="line-817">817</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string[]</span>
      <span>-
  <code>input</code> split by line-terminators as defined within the spec</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-7.3
">http://www.ecma-international.org/ecma-262/5.1/#sec-7.3
</a>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-820" id="line-820">820</a>  
<a class="line-num" href="#line-821" id="line-821">821</a>      <span class="nx">splitLines</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-822" id="line-822">822</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">).</span><span class="nx">split</span><span class="p">(</span> <span class="nx">re_linebreaks</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-823" id="line-823">823</a>      <span class="p">},</span>
<a class="line-num" href="#line-824" id="line-824">824</a>  
<a class="line-num" href="#line-825" id="line-825">825</a>  
<a class="line-num" href="#line-826" id="line-826">826</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>splits a string at the given indices. negative indices are allowed.
if the resulting substrings overlap, the first one dominates, the latter is front-cut.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">index</span>
      <span class="dox_type">...number</span>
      <span>indices to split at. negatives allowed</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string[]</span>
      <span>-
  the resulting array of substrings.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-831" id="line-831">831</a>  
<a class="line-num" href="#line-832" id="line-832">832</a>      <span class="nx">splitAt</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="cm">/*, index... */</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-833" id="line-833">833</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">intput</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-834" id="line-834">834</a>  
<a class="line-num" href="#line-835" id="line-835">835</a>  
<a class="line-num" href="#line-836" id="line-836">836</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61">&#182;</a>
</div>
<ul>
<li>for each index
<ul><li>if it is negative, add this' string's length</li>
<li>apply <code>pending_index</code> of the previous iteration ( initially zero ) as <code>index</code>'s minimum</li>
<li>let native <em>String#slice</em> apply the maximum</li>
<li>push what's within input between <code>pending_index</code> and <code>index</code> to <code>result</code></li>
<li>update <code>pending_index</code> for the next iteration</li></ul></li>
<li>push what's left to the result and return it.</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-841" id="line-841">841</a>  
<a class="line-num" href="#line-842" id="line-842">842</a>  
<a class="line-num" href="#line-843" id="line-843">843</a>        <span class="kd">var</span> <span class="nx">input_len</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-844" id="line-844">844</a>          <span class="nx">args</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">,</span>
<a class="line-num" href="#line-845" id="line-845">845</a>          <span class="nx">args_len</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-846" id="line-846">846</a>          <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="c1">// skip `input`</span>
<a class="line-num" href="#line-847" id="line-847">847</a>          <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a class="line-num" href="#line-848" id="line-848">848</a>          <span class="nx">pending_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a class="line-num" href="#line-849" id="line-849">849</a>          <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>
<a class="line-num" href="#line-850" id="line-850">850</a>  
<a class="line-num" href="#line-851" id="line-851">851</a>        <span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">args_len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-852" id="line-852">852</a>          <span class="nx">index</span> <span class="o">=</span> <span class="nx">Number_toInteger</span><span class="p">(</span> <span class="nx">args</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="p">);</span>
<a class="line-num" href="#line-853" id="line-853">853</a>          <span class="k">if</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-854" id="line-854">854</a>            <span class="nx">index</span> <span class="o">+=</span> <span class="nx">input_len</span><span class="p">;</span>
<a class="line-num" href="#line-855" id="line-855">855</a>          <span class="p">}</span>
<a class="line-num" href="#line-856" id="line-856">856</a>          <span class="k">if</span> <span class="p">(</span> <span class="nx">index</span> <span class="o">&lt;=</span> <span class="nx">pending_index</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-857" id="line-857">857</a>            <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s1">&#39;&#39;</span> <span class="p">);</span> <span class="c1">// faster than slicing the empty string first</span>
<a class="line-num" href="#line-858" id="line-858">858</a>            <span class="nx">index</span> <span class="o">=</span> <span class="nx">pending_index</span><span class="p">;</span>
<a class="line-num" href="#line-859" id="line-859">859</a>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<a class="line-num" href="#line-860" id="line-860">860</a>            <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">input</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="nx">pending_index</span><span class="p">,</span> <span class="nx">index</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-861" id="line-861">861</a>            <span class="nx">pending_index</span> <span class="o">=</span> <span class="nx">index</span><span class="p">;</span>
<a class="line-num" href="#line-862" id="line-862">862</a>          <span class="p">}</span>
<a class="line-num" href="#line-863" id="line-863">863</a>        <span class="p">}</span>
<a class="line-num" href="#line-864" id="line-864">864</a>        <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="nx">index</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-865" id="line-865">865</a>        <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-866" id="line-866">866</a>      <span class="p">},</span>
<a class="line-num" href="#line-867" id="line-867">867</a>  
<a class="line-num" href="#line-868" id="line-868">868</a>  
<a class="line-num" href="#line-869" id="line-869">869</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[replacee="undefined"]</span>
      <span class="dox_type">string</span>
      <span>string to replace</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[replacement="undefined"]</span>
      <span class="dox_type">string</span>
      <span>replacement</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  the <code>input</code> with all non-overlapping occurrences of
  <code>replacee</code> replaced by <code>replacement</code>.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-874" id="line-874">874</a>  
<a class="line-num" href="#line-875" id="line-875">875</a>      <span class="nx">exchange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">replacee</span><span class="p">,</span> <span class="nx">replacement</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-876" id="line-876">876</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-877" id="line-877">877</a>        <span class="nx">replacee</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">replacee</span> <span class="p">);</span>
<a class="line-num" href="#line-878" id="line-878">878</a>        <span class="nx">replacement</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">replacement</span> <span class="p">);</span>
<a class="line-num" href="#line-879" id="line-879">879</a>  
<a class="line-num" href="#line-880" id="line-880">880</a>  
<a class="line-num" href="#line-881" id="line-881">881</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63">&#182;</a>
</div>
<p>early exit for equality</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-880" id="line-880">880</a>  
<a class="line-num" href="#line-881" id="line-881">881</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">replacee</span> <span class="o">===</span> <span class="nx">replacement</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-882" id="line-882">882</a>  
<a class="line-num" href="#line-883" id="line-883">883</a>  
<a class="line-num" href="#line-884" id="line-884">884</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64">&#182;</a>
</div>
<p>implies parsing</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-883" id="line-883">883</a>  
<a class="line-num" href="#line-884" id="line-884">884</a>        <span class="k">return</span> <span class="nx">input</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span> <span class="nx">replacee</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="nx">replacement</span> <span class="p">);</span>
<a class="line-num" href="#line-885" id="line-885">885</a>      <span class="p">},</span>
<a class="line-num" href="#line-886" id="line-886">886</a>  
<a class="line-num" href="#line-887" id="line-887">887</a>  
<a class="line-num" href="#line-888" id="line-888">888</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[replacee="undefined"]</span>
      <span class="dox_type">string</span>
      <span>string to replace</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[replacement="undefined"]</span>
      <span class="dox_type">string</span>
      <span>replacement</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=Math.pow(2,</span>
      <span class="dox_type">number</span>
      <span>32) - 1]
  number of replacement operations.</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  this' string with <code>n</code> left-hand non-overlapping
  occurrences of <code>replacee</code> replaced by <code>replacement</code></span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">Stryng#exchangeRight
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-896" id="line-896">896</a>  
<a class="line-num" href="#line-897" id="line-897">897</a>      <span class="nx">exchangeLeft</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">replacee</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">,</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-898" id="line-898">898</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-899" id="line-899">899</a>        <span class="nx">replacee</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">replacee</span> <span class="p">);</span>
<a class="line-num" href="#line-900" id="line-900">900</a>        <span class="nx">replacement</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">replacement</span> <span class="p">);</span>
<a class="line-num" href="#line-901" id="line-901">901</a>  
<a class="line-num" href="#line-902" id="line-902">902</a>  
<a class="line-num" href="#line-903" id="line-903">903</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66">&#182;</a>
</div>
<p>early exit for equality</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-902" id="line-902">902</a>  
<a class="line-num" href="#line-903" id="line-903">903</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">replacee</span> <span class="o">===</span> <span class="nx">replacement</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-904" id="line-904">904</a>  
<a class="line-num" href="#line-905" id="line-905">905</a>  
<a class="line-num" href="#line-906" id="line-906">906</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67">&#182;</a>
</div>
<p>implies parsing</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-905" id="line-905">905</a>  
<a class="line-num" href="#line-906" id="line-906">906</a>        <span class="k">return</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">splitLeft</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">replacee</span><span class="p">,</span> <span class="nx">n</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="nx">replacement</span> <span class="p">);</span>
<a class="line-num" href="#line-907" id="line-907">907</a>      <span class="p">},</span>
<a class="line-num" href="#line-908" id="line-908">908</a>  
<a class="line-num" href="#line-909" id="line-909">909</a>  
<a class="line-num" href="#line-910" id="line-910">910</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[replacee="undefined"]</span>
      <span class="dox_type">string</span>
      <span>string to replace</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[replacement="undefined"]</span>
      <span class="dox_type">string</span>
      <span>replacement</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=Math.pow(2,</span>
      <span class="dox_type">number</span>
      <span>32) - 1]
  number of replacement operations.</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  the <code>input</code> with <code>n</code> right-hand
  non-overlapping occurrences of <code>replacee</code>
  replaced by <code>replacement</code></span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">Stryng.exchangeLeft, Stryng.exchange
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-919" id="line-919">919</a>  
<a class="line-num" href="#line-920" id="line-920">920</a>      <span class="nx">exchangeRight</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">replacee</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">,</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-921" id="line-921">921</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-922" id="line-922">922</a>        <span class="nx">replacee</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">replacee</span> <span class="p">);</span>
<a class="line-num" href="#line-923" id="line-923">923</a>        <span class="nx">replacement</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">replacement</span> <span class="p">);</span>
<a class="line-num" href="#line-924" id="line-924">924</a>  
<a class="line-num" href="#line-925" id="line-925">925</a>  
<a class="line-num" href="#line-926" id="line-926">926</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69">&#182;</a>
</div>
<p>early exit for equality</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-925" id="line-925">925</a>  
<a class="line-num" href="#line-926" id="line-926">926</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">replacee</span> <span class="o">===</span> <span class="nx">replacement</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-927" id="line-927">927</a>  
<a class="line-num" href="#line-928" id="line-928">928</a>  
<a class="line-num" href="#line-929" id="line-929">929</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70">&#182;</a>
</div>
<p>implies parsing</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-928" id="line-928">928</a>  
<a class="line-num" href="#line-929" id="line-929">929</a>        <span class="k">return</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">splitRight</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">replacee</span><span class="p">,</span> <span class="nx">n</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="nx">replacement</span> <span class="p">);</span>
<a class="line-num" href="#line-930" id="line-930">930</a>      <span class="p">},</span>
<a class="line-num" href="#line-931" id="line-931">931</a>  
<a class="line-num" href="#line-932" id="line-932">932</a>  
<a class="line-num" href="#line-933" id="line-933">933</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">max_len</span>
      <span class="dox_type">number</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">fill</span>
      <span class="dox_type">string</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string
</span>
      <span>{string}
  the <code>input</code> with <code>fill</code> appended as often as needed for <code>input</code>
  to reach but not exceed a length of <code>max_len</code>. this' string is never truncated.</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">Stryng.justLeft, Stryng.justRight
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-939" id="line-939">939</a>  
<a class="line-num" href="#line-940" id="line-940">940</a>      <span class="nx">just</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">max_len</span><span class="p">,</span> <span class="nx">fill</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-941" id="line-941">941</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">input</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">max_len</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="nx">max_len</span> <span class="o">==</span> <span class="nx">INFINITY</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-942" id="line-942">942</a>  
<a class="line-num" href="#line-943" id="line-943">943</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span>
<a class="line-num" href="#line-944" id="line-944">944</a>        <span class="nx">fill</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">fill</span> <span class="p">);</span>
<a class="line-num" href="#line-945" id="line-945">945</a>        <span class="nx">max_len</span> <span class="o">=</span> <span class="nx">max_len</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">Math_floor</span><span class="p">(</span> <span class="nx">max_len</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-946" id="line-946">946</a>  
<a class="line-num" href="#line-947" id="line-947">947</a>        <span class="kd">var</span> <span class="nx">input_len</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-948" id="line-948">948</a>          <span class="nx">fill_len</span> <span class="o">=</span> <span class="nx">fill</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// safe, `&lt;&lt; 1` isn&#39;t</span>
<a class="line-num" href="#line-949" id="line-949">949</a>  
<a class="line-num" href="#line-950" id="line-950">950</a>  
<a class="line-num" href="#line-951" id="line-951">951</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72">&#182;</a>
</div>
<p>early exit for the empty fill</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-950" id="line-950">950</a>  
<a class="line-num" href="#line-951" id="line-951">951</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">max_len</span> <span class="o">&lt;=</span> <span class="nx">input_len</span> <span class="o">||</span> <span class="o">!</span><span class="nx">fill</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-952" id="line-952">952</a>  
<a class="line-num" href="#line-953" id="line-953">953</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">fill_len</span> <span class="o">&lt;=</span> <span class="nx">max_len</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-954" id="line-954">954</a>          <span class="nx">input</span> <span class="o">=</span> <span class="nx">fill</span> <span class="o">+</span> <span class="nx">input</span> <span class="o">+</span> <span class="nx">fill</span><span class="p">;</span>
<a class="line-num" href="#line-955" id="line-955">955</a>        <span class="p">}</span>
<a class="line-num" href="#line-956" id="line-956">956</a>  
<a class="line-num" href="#line-957" id="line-957">957</a>        <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-958" id="line-958">958</a>      <span class="p">},</span>
<a class="line-num" href="#line-959" id="line-959">959</a>  
<a class="line-num" href="#line-960" id="line-960">960</a>  
<a class="line-num" href="#line-961" id="line-961">961</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">max_len</span>
      <span class="dox_type">number</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">fill</span>
      <span class="dox_type">string</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  the <code>input</code> with <code>fill</code> prepended as often as needed for <code>input</code>
  to reach but not exceed a length of <code>max_len</code>. this' string is never truncated.</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">Stryng#justRight, Stryng#just
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-967" id="line-967">967</a>  
<a class="line-num" href="#line-968" id="line-968">968</a>      <span class="nx">justLeft</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">max_len</span><span class="p">,</span> <span class="nx">fill</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-969" id="line-969">969</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">input</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">max_len</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="nx">max_len</span> <span class="o">==</span> <span class="nx">INFINITY</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-970" id="line-970">970</a>  
<a class="line-num" href="#line-971" id="line-971">971</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span>
<a class="line-num" href="#line-972" id="line-972">972</a>        <span class="nx">fill</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">fill</span> <span class="p">);</span>
<a class="line-num" href="#line-973" id="line-973">973</a>        <span class="nx">max_len</span> <span class="o">=</span> <span class="nx">max_len</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">Math_floor</span><span class="p">(</span> <span class="nx">max_len</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-974" id="line-974">974</a>  
<a class="line-num" href="#line-975" id="line-975">975</a>        <span class="kd">var</span> <span class="nx">input_len</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-976" id="line-976">976</a>  
<a class="line-num" href="#line-977" id="line-977">977</a>  
<a class="line-num" href="#line-978" id="line-978">978</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74">&#182;</a>
</div>
<p>early exit for the empty fill</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-977" id="line-977">977</a>  
<a class="line-num" href="#line-978" id="line-978">978</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">max_len</span> <span class="o">&lt;=</span> <span class="nx">input_len</span> <span class="o">||</span> <span class="o">!</span><span class="nx">fill</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-979" id="line-979">979</a>  
<a class="line-num" href="#line-980" id="line-980">980</a>        <span class="kd">var</span> <span class="nx">fill_len</span> <span class="o">=</span> <span class="nx">fill</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-981" id="line-981">981</a>  
<a class="line-num" href="#line-982" id="line-982">982</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">fill_len</span> <span class="o">&lt;=</span> <span class="nx">max_len</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-983" id="line-983">983</a>          <span class="nx">input</span> <span class="o">=</span> <span class="nx">fill</span> <span class="o">+</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-984" id="line-984">984</a>        <span class="p">}</span>
<a class="line-num" href="#line-985" id="line-985">985</a>  
<a class="line-num" href="#line-986" id="line-986">986</a>        <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-987" id="line-987">987</a>      <span class="p">},</span>
<a class="line-num" href="#line-988" id="line-988">988</a>  
<a class="line-num" href="#line-989" id="line-989">989</a>  
<a class="line-num" href="#line-990" id="line-990">990</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">max_len</span>
      <span class="dox_type">number</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">fill</span>
      <span class="dox_type">string</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string
</span>
      <span>{string}
  the <code>input</code> with <code>fill</code> appended as often as needed for <code>input</code>
  to reach but not exceed a length of <code>max_len</code>. this' string is never truncated.</span>
    </div>
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">Stryng.justLeft, Stryng.just
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-996" id="line-996">996</a>  
<a class="line-num" href="#line-997" id="line-997">997</a>      <span class="nx">justRight</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">max_len</span><span class="p">,</span> <span class="nx">fill</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-998" id="line-998">998</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">input</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">max_len</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="nx">max_len</span> <span class="o">==</span> <span class="nx">INFINITY</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-999" id="line-999">999</a>  
<a class="line-num" href="#line-1000" id="line-1000">1000</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span>
<a class="line-num" href="#line-1001" id="line-1001">1001</a>        <span class="nx">fill</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">fill</span> <span class="p">);</span>
<a class="line-num" href="#line-1002" id="line-1002">1002</a>        <span class="nx">max_len</span> <span class="o">=</span> <span class="nx">max_len</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">Math_floor</span><span class="p">(</span> <span class="nx">max_len</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-1003" id="line-1003">1003</a>  
<a class="line-num" href="#line-1004" id="line-1004">1004</a>        <span class="kd">var</span> <span class="nx">input_len</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span>
<a class="line-num" href="#line-1005" id="line-1005">1005</a>        <span class="nx">fill_len</span> <span class="o">=</span> <span class="nx">fill</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-1006" id="line-1006">1006</a>  
<a class="line-num" href="#line-1007" id="line-1007">1007</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">max_len</span> <span class="o">&lt;=</span> <span class="nx">input_len</span> <span class="o">||</span> <span class="o">!</span><span class="nx">fill</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-1008" id="line-1008">1008</a>  
<a class="line-num" href="#line-1009" id="line-1009">1009</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">fill_len</span> <span class="o">&lt;=</span> <span class="nx">max_len</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1010" id="line-1010">1010</a>          <span class="nx">input</span> <span class="o">+=</span> <span class="nx">fill</span><span class="p">;</span>
<a class="line-num" href="#line-1011" id="line-1011">1011</a>        <span class="p">}</span>
<a class="line-num" href="#line-1012" id="line-1012">1012</a>  
<a class="line-num" href="#line-1013" id="line-1013">1013</a>        <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-1014" id="line-1014">1014</a>      <span class="p">},</span>
<a class="line-num" href="#line-1015" id="line-1015">1015</a>  
<a class="line-num" href="#line-1016" id="line-1016">1016</a>  
<a class="line-num" href="#line-1017" id="line-1017">1017</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>strips <code>prefix</code> from the left of <code>input</code> <code>n</code> times.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[prefix="undefined"]
</span>
      <span class="dox_type">string</span>
      <span>string to remove</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=Math.pow(2,</span>
      <span class="dox_type">number</span>
      <span>32) - 1]
  number of operations.</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1029" id="line-1029">1029</a>  
<a class="line-num" href="#line-1030" id="line-1030">1030</a>      <span class="nx">stripLeft</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1031" id="line-1031">1031</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1032" id="line-1032">1032</a>  
<a class="line-num" href="#line-1033" id="line-1033">1033</a>  
<a class="line-num" href="#line-1034" id="line-1034">1034</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77">&#182;</a>
</div>
<ul>
<li>parse <code>n</code> with <code>toUInt32</code>, default to <code>Math.pow(2, 32) - 1</code></li>
<li>parse <code>prefix</code> to string</li>
<li>early exit before processing senseless arguments</li>
<li>set an index <code>pending_i</code> to zero</li>
<li>increment it by <code>prefix.length</code> as long as fast native
<em>String#indexOf</em> return just the result of that addition
and we are not running out of <code>n</code>.</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1039" id="line-1039">1039</a>  
<a class="line-num" href="#line-1040" id="line-1040">1040</a>        <span class="nx">n</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">n</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">n</span> <span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-1041" id="line-1041">1041</a>        <span class="nx">prefix</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">prefix</span> <span class="p">);</span>
<a class="line-num" href="#line-1042" id="line-1042">1042</a>  
<a class="line-num" href="#line-1043" id="line-1043">1043</a>        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">n</span> <span class="o">||</span> <span class="o">!</span><span class="nx">prefix</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-1044" id="line-1044">1044</a>  
<a class="line-num" href="#line-1045" id="line-1045">1045</a>        <span class="kd">var</span>
<a class="line-num" href="#line-1046" id="line-1046">1046</a>        <span class="nx">prefix_len</span> <span class="o">=</span> <span class="nx">prefix</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-1047" id="line-1047">1047</a>          <span class="nx">pending_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a class="line-num" href="#line-1048" id="line-1048">1048</a>          <span class="nx">i</span><span class="p">;</span>
<a class="line-num" href="#line-1049" id="line-1049">1049</a>  
<a class="line-num" href="#line-1050" id="line-1050">1050</a>        <span class="k">do</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">prefix</span><span class="p">,</span> <span class="nx">pending_i</span> <span class="p">);</span>
<a class="line-num" href="#line-1051" id="line-1051">1051</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">n</span><span class="o">--</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">===</span> <span class="nx">pending_i</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">pending_i</span> <span class="o">+=</span> <span class="nx">prefix_len</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-1052" id="line-1052">1052</a>  
<a class="line-num" href="#line-1053" id="line-1053">1053</a>        <span class="k">return</span> <span class="nx">pending_i</span> <span class="o">?</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="nx">pending_i</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-1054" id="line-1054">1054</a>      <span class="p">},</span>
<a class="line-num" href="#line-1055" id="line-1055">1055</a>  
<a class="line-num" href="#line-1056" id="line-1056">1056</a>  
<a class="line-num" href="#line-1057" id="line-1057">1057</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>the right-associative version of <a href="#stripLeft">Stryng.stripLeft</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[suffix="undefined"]
</span>
      <span class="dox_type">string</span>
      <span>string to remove</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=Math.pow(2,</span>
      <span class="dox_type">number</span>
      <span>32) - 1]
  number of operations.</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1063" id="line-1063">1063</a>  
<a class="line-num" href="#line-1064" id="line-1064">1064</a>      <span class="nx">stripRight</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">suffix</span><span class="p">,</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1065" id="line-1065">1065</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1066" id="line-1066">1066</a>  
<a class="line-num" href="#line-1067" id="line-1067">1067</a>  
<a class="line-num" href="#line-1068" id="line-1068">1068</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79">&#182;</a>
</div>
<ul>
<li>parse <code>n</code> with <code>toUInt32</code>, default to <code>Math.pow(2, 32) - 1</code></li>
<li>parse <code>suffix</code> to string</li>
<li>early exit before processing senseless arguments</li>
<li>set an index <code>p</code> to <code>input.length</code></li>
<li>decrement it by <code>suffix.length</code> as long as fast native
<em>String#lastIndexOf</em> return just the result of that subtraction
and we are not running out of <code>n</code>.</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1073" id="line-1073">1073</a>  
<a class="line-num" href="#line-1074" id="line-1074">1074</a>  
<a class="line-num" href="#line-1075" id="line-1075">1075</a>        <span class="nx">n</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">n</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">n</span> <span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-1076" id="line-1076">1076</a>        <span class="nx">suffix</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">suffix</span> <span class="p">);</span>
<a class="line-num" href="#line-1077" id="line-1077">1077</a>  
<a class="line-num" href="#line-1078" id="line-1078">1078</a>        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">n</span> <span class="o">||</span> <span class="o">!</span><span class="nx">suffix</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-1079" id="line-1079">1079</a>  
<a class="line-num" href="#line-1080" id="line-1080">1080</a>        <span class="kd">var</span>
<a class="line-num" href="#line-1081" id="line-1081">1081</a>        <span class="nx">suffix_len</span> <span class="o">=</span> <span class="nx">suffix</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-1082" id="line-1082">1082</a>          <span class="nx">pending_i</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-1083" id="line-1083">1083</a>          <span class="nx">i</span><span class="p">;</span>
<a class="line-num" href="#line-1084" id="line-1084">1084</a>  
<a class="line-num" href="#line-1085" id="line-1085">1085</a>        <span class="k">do</span> <span class="p">{</span>
<a class="line-num" href="#line-1086" id="line-1086">1086</a>          <span class="nx">pending_i</span> <span class="o">-=</span> <span class="nx">suffix_len</span><span class="p">;</span>
<a class="line-num" href="#line-1087" id="line-1087">1087</a>          <span class="nx">i</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">lastIndexOf</span><span class="p">(</span> <span class="nx">suffix</span><span class="p">,</span> <span class="nx">pending_i</span> <span class="p">);</span>
<a class="line-num" href="#line-1088" id="line-1088">1088</a>        <span class="p">}</span>
<a class="line-num" href="#line-1089" id="line-1089">1089</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">n</span><span class="o">--</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">===</span> <span class="nx">pending_i</span> <span class="p">);</span>
<a class="line-num" href="#line-1090" id="line-1090">1090</a>  
<a class="line-num" href="#line-1091" id="line-1091">1091</a>        <span class="k">return</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">pending_i</span> <span class="o">+</span> <span class="nx">suffix_len</span> <span class="p">);</span>
<a class="line-num" href="#line-1092" id="line-1092">1092</a>      <span class="p">},</span>
<a class="line-num" href="#line-1093" id="line-1093">1093</a>  
<a class="line-num" href="#line-1094" id="line-1094">1094</a>  
<a class="line-num" href="#line-1095" id="line-1095">1095</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>the combination of <a href="#stripLeft">Stryng.stripLeft</a> and <a href="#stripRight">Stryng.stripRight</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">outfix</span>
      <span class="dox_type">string</span>
      <span>string to remove</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=1]</span>
      <span class="dox_type">number</span>
      <span>number of operations (recursion depth)</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1100" id="line-1100">1100</a>  
<a class="line-num" href="#line-1101" id="line-1101">1101</a>      <span class="nx">strip</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">outfix</span><span class="p">,</span> <span class="nx">n</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1102" id="line-1102">1102</a>        <span class="k">return</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">stripRight</span><span class="p">(</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">stripLeft</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">outfix</span><span class="p">,</span> <span class="nx">n</span> <span class="p">),</span> <span class="nx">outfix</span><span class="p">,</span> <span class="nx">n</span> <span class="p">);</span>
<a class="line-num" href="#line-1103" id="line-1103">1103</a>      <span class="p">},</span>
<a class="line-num" href="#line-1104" id="line-1104">1104</a>  
<a class="line-num" href="#line-1105" id="line-1105">1105</a>  
<a class="line-num" href="#line-1106" id="line-1106">1106</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">max_len</span>
      <span class="dox_type">number</span>
      <span>length of the result.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[ellipsis="..."]</span>
      <span class="dox_type">string</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  the <code>input</code> sliced to fit the given
  <code>max_len</code> including the <code>ellipsis</code></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1111" id="line-1111">1111</a>  
<a class="line-num" href="#line-1112" id="line-1112">1112</a>      <span class="nx">truncate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">max_len</span><span class="p">,</span> <span class="nx">ellipsis</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1113" id="line-1113">1113</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1114" id="line-1114">1114</a>  
<a class="line-num" href="#line-1115" id="line-1115">1115</a>  
<a class="line-num" href="#line-1116" id="line-1116">1116</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82">&#182;</a>
</div>
<ul>
<li>parse <code>max_len</code> with <code>toUInt32</code>, default to <code>Math.pow(2, 32) - 1</code></li>
<li>if <code>max_len</code> is zero return the empty string</li>
<li>if <code>max_len</code> is bigger than <code>input.length</code>
there's to need to truncate, return this' string</li>
<li>parse <code>ellipsis</code> to string, default to <code>'...'</code></li>
<li>if <code>ellipsis.length</code> is bigger than <code>max_len</code>,
return the last <code>max_len</code> characters of <code>ellipsis</code></li>
<li>return the concatenation of this' string's first
<code>max_len - ellipsis_len</code> characters and <code>ellipsis</code></li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1123" id="line-1123">1123</a>  
<a class="line-num" href="#line-1124" id="line-1124">1124</a>  
<a class="line-num" href="#line-1125" id="line-1125">1125</a>        <span class="nx">max_len</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">max_len</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">max_len</span> <span class="p">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-1126" id="line-1126">1126</a>  
<a class="line-num" href="#line-1127" id="line-1127">1127</a>        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">max_len</span> <span class="p">)</span> <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-1128" id="line-1128">1128</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">max_len</span> <span class="o">&gt;=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-1129" id="line-1129">1129</a>  
<a class="line-num" href="#line-1130" id="line-1130">1130</a>        <span class="nx">ellipsis</span> <span class="o">=</span> <span class="nx">ellipsis</span> <span class="o">!==</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">ellipsis</span> <span class="p">)</span> <span class="o">:</span> <span class="s1">&#39;...&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-1131" id="line-1131">1131</a>  
<a class="line-num" href="#line-1132" id="line-1132">1132</a>        <span class="kd">var</span> <span class="nx">ellipsis_len</span> <span class="o">=</span> <span class="nx">ellipsis</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-1133" id="line-1133">1133</a>  
<a class="line-num" href="#line-1134" id="line-1134">1134</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">ellipsis_len</span> <span class="o">&gt;=</span> <span class="nx">max_len</span> <span class="p">)</span> <span class="k">return</span> <span class="nx">ellipsis</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span> <span class="o">-</span><span class="nx">max_len</span> <span class="p">);</span>
<a class="line-num" href="#line-1135" id="line-1135">1135</a>  
<a class="line-num" href="#line-1136" id="line-1136">1136</a>        <span class="k">return</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">max_len</span> <span class="o">-</span> <span class="nx">ellipsis_len</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">ellipsis</span><span class="p">;</span>
<a class="line-num" href="#line-1137" id="line-1137">1137</a>      <span class="p">},</span>
<a class="line-num" href="#line-1138" id="line-1138">1138</a>  
<a class="line-num" href="#line-1139" id="line-1139">1139</a>  
<a class="line-num" href="#line-1140" id="line-1140">1140</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string
</span>
      <span>{string}</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1141" id="line-1141">1141</a>  
<a class="line-num" href="#line-1142" id="line-1142">1142</a>      <span class="nx">quote</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1143" id="line-1143">1143</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1144" id="line-1144">1144</a>  
<a class="line-num" href="#line-1145" id="line-1145">1145</a>  
<a class="line-num" href="#line-1146" id="line-1146">1146</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84">&#182;</a>
</div>
<ul>
<li>delegate to native <em>JSON.stringify</em> if available</li>
<li>fast forwardly iterate over this' string otherwise
<ul><li>preserve ASCII printables</li>
<li>use short escape characters</li>
<li>use hexadecimal notation as a last resort, whichever is shortest</li></ul></li>
<li>wrap <code>result</code> in double quotes and return it</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1150" id="line-1150">1150</a>  
<a class="line-num" href="#line-1151" id="line-1151">1151</a>  
<a class="line-num" href="#line-1152" id="line-1152">1152</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">JSON_stringify</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1153" id="line-1153">1153</a>          <span class="k">return</span> <span class="nx">JSON_stringify</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span>
<a class="line-num" href="#line-1154" id="line-1154">1154</a>        <span class="p">}</span>
<a class="line-num" href="#line-1155" id="line-1155">1155</a>  
<a class="line-num" href="#line-1156" id="line-1156">1156</a>        <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a class="line-num" href="#line-1157" id="line-1157">1157</a>          <span class="nx">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-1158" id="line-1158">1158</a>          <span class="nx">input_len</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-1159" id="line-1159">1159</a>          <span class="nx">char_code</span><span class="p">;</span>
<a class="line-num" href="#line-1160" id="line-1160">1160</a>  
<a class="line-num" href="#line-1161" id="line-1161">1161</a>        <span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">input_len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1162" id="line-1162">1162</a>          <span class="nx">char_code</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span> <span class="nx">i</span> <span class="p">);</span>
<a class="line-num" href="#line-1163" id="line-1163">1163</a>  
<a class="line-num" href="#line-1164" id="line-1164">1164</a>          <span class="nx">result</span> <span class="o">+=</span>
<a class="line-num" href="#line-1165" id="line-1165">1165</a>            <span class="nx">char_code</span> <span class="o">===</span> <span class="mi">34</span> <span class="o">?</span> <span class="s1">&#39;\\&quot;&#39;</span> <span class="o">:</span> <span class="c1">// double quote</span>
<a class="line-num" href="#line-1166" id="line-1166">1166</a>          <span class="nx">char_code</span> <span class="o">===</span> <span class="mi">92</span> <span class="o">?</span> <span class="s1">&#39;\\\\&#39;</span> <span class="o">:</span> <span class="c1">// backslash</span>
<a class="line-num" href="#line-1167" id="line-1167">1167</a>          <span class="mi">31</span> <span class="o">&lt;</span> <span class="nx">char_code</span> <span class="o">&amp;&amp;</span> <span class="nx">char_code</span> <span class="o">&lt;</span> <span class="mi">127</span> <span class="o">?</span> <span class="nx">String_fromCharCode</span><span class="p">(</span> <span class="nx">char_code</span> <span class="p">)</span> <span class="o">:</span> <span class="c1">// ASCII printables</span>
<a class="line-num" href="#line-1168" id="line-1168">1168</a>          <span class="nx">char_code</span> <span class="o">===</span> <span class="mi">8</span> <span class="o">?</span> <span class="s1">&#39;\\b&#39;</span> <span class="o">:</span> <span class="c1">// backspace</span>
<a class="line-num" href="#line-1169" id="line-1169">1169</a>          <span class="nx">char_code</span> <span class="o">===</span> <span class="mi">9</span> <span class="o">?</span> <span class="s1">&#39;\\t&#39;</span> <span class="o">:</span> <span class="c1">// tab</span>
<a class="line-num" href="#line-1170" id="line-1170">1170</a>          <span class="nx">char_code</span> <span class="o">===</span> <span class="mi">10</span> <span class="o">?</span> <span class="s1">&#39;\\n&#39;</span> <span class="o">:</span> <span class="c1">// new line</span>
<a class="line-num" href="#line-1171" id="line-1171">1171</a>          <span class="nx">char_code</span> <span class="o">===</span> <span class="mi">12</span> <span class="o">?</span> <span class="s1">&#39;\\f&#39;</span> <span class="o">:</span> <span class="c1">// form feed</span>
<a class="line-num" href="#line-1172" id="line-1172">1172</a>          <span class="nx">char_code</span> <span class="o">===</span> <span class="mi">13</span> <span class="o">?</span> <span class="s1">&#39;\\r&#39;</span> <span class="o">:</span> <span class="c1">// carriage return</span>
<a class="line-num" href="#line-1173" id="line-1173">1173</a>          <span class="p">(</span>
<a class="line-num" href="#line-1174" id="line-1174">1174</a>            <span class="nx">char_code</span> <span class="o">&lt;</span> <span class="mi">256</span> <span class="o">?</span> <span class="s1">&#39;\\x&#39;</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">char_code</span> <span class="o">&lt;</span> <span class="mi">16</span> <span class="o">?</span> <span class="s1">&#39;0&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span> <span class="o">:</span> <span class="s1">&#39;\\u&#39;</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">char_code</span> <span class="o">&lt;</span> <span class="mi">4096</span> <span class="o">?</span> <span class="s1">&#39;0&#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-1175" id="line-1175">1175</a>          <span class="p">)</span> <span class="o">+</span> <span class="nx">char_code</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span> <span class="mi">16</span> <span class="p">);</span>
<a class="line-num" href="#line-1176" id="line-1176">1176</a>        <span class="p">}</span>
<a class="line-num" href="#line-1177" id="line-1177">1177</a>  
<a class="line-num" href="#line-1178" id="line-1178">1178</a>        <span class="k">return</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="nx">result</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-1179" id="line-1179">1179</a>      <span class="p">},</span>
<a class="line-num" href="#line-1180" id="line-1180">1180</a>  
<a class="line-num" href="#line-1181" id="line-1181">1181</a>  
<a class="line-num" href="#line-1182" id="line-1182">1182</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string
</span>
      <span>{string}</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1183" id="line-1183">1183</a>  
<a class="line-num" href="#line-1184" id="line-1184">1184</a>      <span class="nx">unquote</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1185" id="line-1185">1185</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span>
<a class="line-num" href="#line-1186" id="line-1186">1186</a>          <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="sr">/\\([btnfr&quot;\\])/g</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">esc</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1187" id="line-1187">1187</a>            <span class="k">return</span> <span class="p">(</span>
<a class="line-num" href="#line-1188" id="line-1188">1188</a>              <span class="nx">esc</span> <span class="o">===</span> <span class="s1">&#39;b&#39;</span> <span class="o">?</span> <span class="s1">&#39;\b&#39;</span> <span class="o">:</span> <span class="c1">// backspace</span>
<a class="line-num" href="#line-1189" id="line-1189">1189</a>              <span class="nx">esc</span> <span class="o">===</span> <span class="s1">&#39;t&#39;</span> <span class="o">?</span> <span class="s1">&#39;\t&#39;</span> <span class="o">:</span> <span class="c1">// tab</span>
<a class="line-num" href="#line-1190" id="line-1190">1190</a>              <span class="nx">esc</span> <span class="o">===</span> <span class="s1">&#39;n&#39;</span> <span class="o">?</span> <span class="s1">&#39;\n&#39;</span> <span class="o">:</span> <span class="c1">// new line</span>
<a class="line-num" href="#line-1191" id="line-1191">1191</a>              <span class="nx">esc</span> <span class="o">===</span> <span class="s1">&#39;f&#39;</span> <span class="o">?</span> <span class="s1">&#39;\f&#39;</span> <span class="o">:</span> <span class="c1">// form feed</span>
<a class="line-num" href="#line-1192" id="line-1192">1192</a>              <span class="nx">esc</span> <span class="o">===</span> <span class="s1">&#39;r&#39;</span> <span class="o">?</span> <span class="s1">&#39;\r&#39;</span> <span class="o">:</span> <span class="c1">// carriage return</span>
<a class="line-num" href="#line-1193" id="line-1193">1193</a>              <span class="nx">esc</span> <span class="c1">// backslash and double quote</span>
<a class="line-num" href="#line-1194" id="line-1194">1194</a>            <span class="p">)</span>
<a class="line-num" href="#line-1195" id="line-1195">1195</a>          <span class="p">}</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="sr">/[xu]([0-9A-F]{2})([0-9A-F]{2})?/gi</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">u</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1196" id="line-1196">1196</a>            <span class="k">return</span> <span class="nx">String_fromCharCode</span><span class="p">(</span> <span class="nb">parseInt</span><span class="p">(</span> <span class="nx">x</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">u</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span> <span class="p">),</span> <span class="mi">16</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-1197" id="line-1197">1197</a>          <span class="p">}</span> <span class="p">).</span><span class="nx">slice</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1198" id="line-1198">1198</a>      <span class="p">},</span>
<a class="line-num" href="#line-1199" id="line-1199">1199</a>  
<a class="line-num" href="#line-1200" id="line-1200">1200</a>  
<a class="line-num" href="#line-1201" id="line-1201">1201</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">number[]</span>
      <span>-
  an array of char code numbers representing this' string.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1203" id="line-1203">1203</a>  
<a class="line-num" href="#line-1204" id="line-1204">1204</a>      <span class="nx">ord</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1205" id="line-1205">1205</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1206" id="line-1206">1206</a>  
<a class="line-num" href="#line-1207" id="line-1207">1207</a>        <span class="kd">var</span>
<a class="line-num" href="#line-1208" id="line-1208">1208</a>        <span class="nx">i</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
<a class="line-num" href="#line-1209" id="line-1209">1209</a>          <span class="nx">result</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">(</span> <span class="nx">i</span> <span class="p">);</span>
<a class="line-num" href="#line-1210" id="line-1210">1210</a>  
<a class="line-num" href="#line-1211" id="line-1211">1211</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">i</span><span class="o">--</span> <span class="p">)</span> <span class="nx">result</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span> <span class="nx">i</span> <span class="p">);</span>
<a class="line-num" href="#line-1212" id="line-1212">1212</a>  
<a class="line-num" href="#line-1213" id="line-1213">1213</a>        <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-1214" id="line-1214">1214</a>      <span class="p">},</span>
<a class="line-num" href="#line-1215" id="line-1215">1215</a>  
<a class="line-num" href="#line-1216" id="line-1216">1216</a>  
<a class="line-num" href="#line-1217" id="line-1217">1217</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>prepends the prefixes to this' string in the given order.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">prefix
</span>
      <span class="dox_type">string</span>
      <span>an arbitrary number of strings to prepend recursivelyin the given order</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string
</span>
      <span>{string}</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1221" id="line-1221">1221</a>  
<a class="line-num" href="#line-1222" id="line-1222">1222</a>      <span class="nx">prepend</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">prefix</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1223" id="line-1223">1223</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1224" id="line-1224">1224</a>        <span class="k">return</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-1225" id="line-1225">1225</a>      <span class="p">},</span>
<a class="line-num" href="#line-1226" id="line-1226">1226</a>  
<a class="line-num" href="#line-1227" id="line-1227">1227</a>  
<a class="line-num" href="#line-1228" id="line-1228">1228</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[comparable="undefined"]
</span>
      <span class="dox_type">string</span>
      <span>strings to compare with</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">boolean</span>
      <span>-
  whether or not this' string strictly equals the
  string representation of all <code>comparable</code>s</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1233" id="line-1233">1233</a>  
<a class="line-num" href="#line-1234" id="line-1234">1234</a>      <span class="nx">isEqual</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span><span class="p">,</span> <span class="nx">comparable</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1235" id="line-1235">1235</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1236" id="line-1236">1236</a>        <span class="k">return</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">comparable</span> <span class="p">)</span> <span class="o">===</span> <span class="nx">input</span><span class="p">;</span>
<a class="line-num" href="#line-1237" id="line-1237">1237</a>      <span class="p">},</span>
<a class="line-num" href="#line-1238" id="line-1238">1238</a>  
<a class="line-num" href="#line-1239" id="line-1239">1239</a>  
<a class="line-num" href="#line-1240" id="line-1240">1240</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">boolean</span>
      <span><ul>
<li>whether the string has length <code>0</code></li>
</ul></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1241" id="line-1241">1241</a>  
<a class="line-num" href="#line-1242" id="line-1242">1242</a>      <span class="nx">isEmpty</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1243" id="line-1243">1243</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="o">!</span><span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1244" id="line-1244">1244</a>      <span class="p">},</span>
<a class="line-num" href="#line-1245" id="line-1245">1245</a>  
<a class="line-num" href="#line-1246" id="line-1246">1246</a>  
<a class="line-num" href="#line-1247" id="line-1247">1247</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">boolean</span>
      <span><ul>
<li>whether the string is empty or consists of whitespace only</li>
</ul></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1248" id="line-1248">1248</a>  
<a class="line-num" href="#line-1249" id="line-1249">1249</a>      <span class="nx">isBlank</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1250" id="line-1250">1250</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1251" id="line-1251">1251</a>        <span class="k">return</span> <span class="o">!</span><span class="nx">input</span> <span class="o">||</span> <span class="o">!</span><span class="nx">re_no_whitespace</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span>
<a class="line-num" href="#line-1252" id="line-1252">1252</a>      <span class="p">},</span>
<a class="line-num" href="#line-1253" id="line-1253">1253</a>  
<a class="line-num" href="#line-1254" id="line-1254">1254</a>      <span class="nx">collapseWhitespace</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1255" id="line-1255">1255</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">).</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">re_whitespaces</span><span class="p">,</span> <span class="s1">&#39; &#39;</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1256" id="line-1256">1256</a>      <span class="p">},</span>
<a class="line-num" href="#line-1257" id="line-1257">1257</a>  
<a class="line-num" href="#line-1258" id="line-1258">1258</a>  
<a class="line-num" href="#line-1259" id="line-1259">1259</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span><ul>
<li>input with first letter upper-cased.</li>
</ul></span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1265" id="line-1265">1265</a>  
<a class="line-num" href="#line-1266" id="line-1266">1266</a>      <span class="nx">capitalize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1267" id="line-1267">1267</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1268" id="line-1268">1268</a>  
<a class="line-num" href="#line-1269" id="line-1269">1269</a>        <span class="kd">var</span> <span class="nx">input_len</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-1270" id="line-1270">1270</a>  
<a class="line-num" href="#line-1271" id="line-1271">1271</a>        <span class="k">return</span> <span class="p">(</span> <span class="o">!</span><span class="nx">input_len</span> <span class="o">?</span> <span class="nx">input</span> <span class="o">:</span>
<a class="line-num" href="#line-1272" id="line-1272">1272</a>          <span class="nx">input_len</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="nx">input</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">:</span>
<a class="line-num" href="#line-1273" id="line-1273">1273</a>          <span class="nx">input</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span> <span class="mi">0</span> <span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="nx">input</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span>
<a class="line-num" href="#line-1274" id="line-1274">1274</a>        <span class="p">);</span>
<a class="line-num" href="#line-1275" id="line-1275">1275</a>      <span class="p">},</span>
<a class="line-num" href="#line-1276" id="line-1276">1276</a>  
<a class="line-num" href="#line-1277" id="line-1277">1277</a>  
<a class="line-num" href="#line-1278" id="line-1278">1278</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>inspired by <a href="http://emberjs.com/api/classes/Ember.String.html#method_camelize">emberjs</a>
note that this leaves the very first letter untouched.
for a classified output compose this method with <em>Stryng#capitalize</em>.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  this' string transformed into camel case by
  removing all occurences of space, underscore and hyphen
  and upper casing the first lower cased letter following those.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1285" id="line-1285">1285</a>  
<a class="line-num" href="#line-1286" id="line-1286">1286</a>      <span class="nx">camelize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1287" id="line-1287">1287</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span>
<a class="line-num" href="#line-1288" id="line-1288">1288</a>          <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span>
<a class="line-num" href="#line-1289" id="line-1289">1289</a>          <span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="sr">/[ _-]([a-z]?)/g</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">character</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1290" id="line-1290">1290</a>            <span class="k">return</span> <span class="nx">character</span> <span class="o">?</span> <span class="nx">character</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-1291" id="line-1291">1291</a>          <span class="p">}</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1292" id="line-1292">1292</a>      <span class="p">},</span>
<a class="line-num" href="#line-1293" id="line-1293">1293</a>  
<a class="line-num" href="#line-1294" id="line-1294">1294</a>  
<a class="line-num" href="#line-1295" id="line-1295">1295</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>inspired by <a href="http://emberjs.com/api/classes/Ember.String.html#method_underscore">emberjs</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  this' string transformed into an underscored form by
  inserting <code>_</code> where upper cased letters follow lower ones,
  replacing space and hyphen by <code>_</code> and finally lower casing the output.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1300" id="line-1300">1300</a>  
<a class="line-num" href="#line-1301" id="line-1301">1301</a>      <span class="nx">underscore</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<a class="line-num" href="#line-1302" id="line-1302">1302</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span>
<a class="line-num" href="#line-1303" id="line-1303">1303</a>          <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span>
<a class="line-num" href="#line-1304" id="line-1304">1304</a>          <span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="sr">/([a-z])([A-Z])/g</span><span class="p">,</span> <span class="s1">&#39;$1_$2&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-1305" id="line-1305">1305</a>          <span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="sr">/[ -]/g</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-1306" id="line-1306">1306</a>          <span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1307" id="line-1307">1307</a>      <span class="p">},</span>
<a class="line-num" href="#line-1308" id="line-1308">1308</a>  
<a class="line-num" href="#line-1309" id="line-1309">1309</a>  
<a class="line-num" href="#line-1310" id="line-1310">1310</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>inspired by <a href="http://emberjs.com/api/classes/Ember.String.html#method_dasherize">emberjs</a></p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  this' string transformed into an underscored form by
  inserting <code>-</code> where upper cased letters follow lower ones,
  replacing space and underscore by <code>-</code> and finally lower casing the output.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1315" id="line-1315">1315</a>  
<a class="line-num" href="#line-1316" id="line-1316">1316</a>      <span class="nx">dasherize</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<a class="line-num" href="#line-1317" id="line-1317">1317</a>        <span class="k">return</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span>
<a class="line-num" href="#line-1318" id="line-1318">1318</a>          <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span>
<a class="line-num" href="#line-1319" id="line-1319">1319</a>          <span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="sr">/([a-z])([A-Z])/g</span><span class="p">,</span> <span class="s1">&#39;$1-$2&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-1320" id="line-1320">1320</a>          <span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="sr">/[ _]/g</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-1321" id="line-1321">1321</a>          <span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1322" id="line-1322">1322</a>      <span class="p">},</span>
<a class="line-num" href="#line-1323" id="line-1323">1323</a>  
<a class="line-num" href="#line-1324" id="line-1324">1324</a>  
<a class="line-num" href="#line-1325" id="line-1325">1325</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>replaces ligatures and diacritics from the Latin-1 Supplement
with their nearest plain letter, replaces symbols otherwise being percentescaped.
compose this method with <em>Stryng#dasherize</em> to produce URL slugs</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>[description]</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1329" id="line-1329">1329</a>  
<a class="line-num" href="#line-1330" id="line-1330">1330</a>      <span class="nx">slugify</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1331" id="line-1331">1331</a>        <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="o">:</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1332" id="line-1332">1332</a>        <span class="nx">object_forOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">latin_1_supplement</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">re</span><span class="p">,</span> <span class="nx">nearest_char</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1333" id="line-1333">1333</a>          <span class="nx">input</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span> <span class="nx">re</span><span class="p">,</span> <span class="nx">nearest_char</span> <span class="p">);</span>
<a class="line-num" href="#line-1334" id="line-1334">1334</a>        <span class="p">}</span> <span class="p">);</span>
<a class="line-num" href="#line-1335" id="line-1335">1335</a>        <span class="k">return</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">dasherize</span><span class="p">(</span> <span class="nx">input</span> <span class="p">);</span>
<a class="line-num" href="#line-1336" id="line-1336">1336</a>      <span class="p">}</span>
<a class="line-num" href="#line-1337" id="line-1337">1337</a>    <span class="p">};</span>
<a class="line-num" href="#line-1338" id="line-1338">1338</a>  
<a class="line-num" href="#line-1339" id="line-1339">1339</a>  
<a class="line-num" href="#line-1340" id="line-1340">1340</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="static%20functions">
  <h2>
    <a href="#static%20functions" name="static%20functions" class="pilcrow">&#182;</a>
    static functions
  </h2>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1340" id="line-1340">1340</a>  
<a class="line-num" href="#line-1341" id="line-1341">1341</a>  
<a class="line-num" href="#line-1342" id="line-1342">1342</a>  
<a class="line-num" href="#line-1343" id="line-1343">1343</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>generates a string of random characters which default to the ASCII printables.
to choose randomly from the whole Unicode table call <code>Stryng.random(n, 0, -1)</code>.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[n=0]</span>
      <span class="dox_type">number</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[from=32]</span>
      <span class="dox_type">number</span>
      <span>inclusively</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[to=127]</span>
      <span class="dox_type">number</span>
      <span>exclusively assuming <em>Math.random</em> never yields <code>1</code></span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  string of length <code>n</code> with characters (ASCII by default)
  randomly choosen from the Unicode table with
  code-range [<code>from</code>, <code>to</code>]</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1352" id="line-1352">1352</a>  
<a class="line-num" href="#line-1353" id="line-1353">1353</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">random</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">n</span><span class="p">,</span> <span class="nx">from</span><span class="p">,</span> <span class="nx">to</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1354" id="line-1354">1354</a>      <span class="k">if</span> <span class="p">(</span> <span class="nx">n</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="nx">n</span> <span class="o">==</span> <span class="nx">INFINITY</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1355" id="line-1355">1355</a>  
<a class="line-num" href="#line-1356" id="line-1356">1356</a>      <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">Math_floor</span><span class="p">(</span> <span class="nx">n</span> <span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
<a class="line-num" href="#line-1357" id="line-1357">1357</a>      <span class="nx">from</span> <span class="o">=</span> <span class="nx">from</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">32</span> <span class="o">:</span> <span class="p">(</span> <span class="nx">from</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span> <span class="p">);</span>
<a class="line-num" href="#line-1358" id="line-1358">1358</a>      <span class="nx">to</span> <span class="o">=</span> <span class="nx">to</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">127</span> <span class="o">:</span> <span class="p">(</span> <span class="nx">to</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span> <span class="p">);</span>
<a class="line-num" href="#line-1359" id="line-1359">1359</a>  
<a class="line-num" href="#line-1360" id="line-1360">1360</a>      <span class="k">if</span> <span class="p">(</span> <span class="nx">to</span> <span class="o">&gt;</span> <span class="nx">MAX_CHARCODE</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1361" id="line-1361">1361</a>  
<a class="line-num" href="#line-1362" id="line-1362">1362</a>      <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<a class="line-num" href="#line-1363" id="line-1363">1363</a>        <span class="nx">diff</span> <span class="o">=</span> <span class="nx">to</span> <span class="o">-</span> <span class="nx">from</span><span class="p">;</span>
<a class="line-num" href="#line-1364" id="line-1364">1364</a>  
<a class="line-num" href="#line-1365" id="line-1365">1365</a>      <span class="k">if</span> <span class="p">(</span> <span class="nx">diff</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1366" id="line-1366">1366</a>        <span class="k">while</span> <span class="p">(</span> <span class="nx">n</span><span class="o">--</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1367" id="line-1367">1367</a>          <span class="nx">result</span> <span class="o">+=</span> <span class="nx">String_fromCharCode</span><span class="p">(</span> <span class="nx">from</span> <span class="o">+</span> <span class="nx">Math_floor</span><span class="p">(</span> <span class="nx">Math_random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">diff</span> <span class="p">)</span> <span class="p">);</span>
<a class="line-num" href="#line-1368" id="line-1368">1368</a>        <span class="p">}</span>
<a class="line-num" href="#line-1369" id="line-1369">1369</a>      <span class="p">}</span>
<a class="line-num" href="#line-1370" id="line-1370">1370</a>  
<a class="line-num" href="#line-1371" id="line-1371">1371</a>      <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-1372" id="line-1372">1372</a>    <span class="p">};</span>
<a class="line-num" href="#line-1373" id="line-1373">1373</a>  
<a class="line-num" href="#line-1374" id="line-1374">1374</a>    <span class="k">if</span> <span class="p">(</span> <span class="nx">DEBUG</span> <span class="p">)</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">random</span><span class="p">.</span><span class="nx">_name</span> <span class="o">=</span> <span class="s1">&#39;random&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-1375" id="line-1375">1375</a>  
<a class="line-num" href="#line-1376" id="line-1376">1376</a>  
<a class="line-num" href="#line-1377" id="line-1377">1377</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>delegates to native <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode">String.fromCharCode</a>.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">charCode</span>
      <span class="dox_type">...number</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  the concatenated string representations of the given
  <code>charCode</code>s from the UTF-16 table. empty if no arguments passed</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1382" id="line-1382">1382</a>  
<a class="line-num" href="#line-1383" id="line-1383">1383</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">chr</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="cm">/* charCodes,... */</span><span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1384" id="line-1384">1384</a>      <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">,</span>
<a class="line-num" href="#line-1385" id="line-1385">1385</a>        <span class="nx">i</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-1386" id="line-1386">1386</a>      <span class="k">while</span> <span class="p">(</span> <span class="nx">i</span><span class="o">--</span> <span class="p">)</span>
<a class="line-num" href="#line-1387" id="line-1387">1387</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">args</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">&gt;</span> <span class="nx">MAX_CHARCODE</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">(</span><span class="s1">&#39;char code &#39;</span> <span class="o">+</span> <span class="nx">args</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; is out of range.&#39;</span><span class="p">);</span>
<a class="line-num" href="#line-1388" id="line-1388">1388</a>      <span class="k">return</span> <span class="nx">String_fromCharCode</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
<a class="line-num" href="#line-1389" id="line-1389">1389</a>    <span class="p">};</span>
<a class="line-num" href="#line-1390" id="line-1390">1390</a>  
<a class="line-num" href="#line-1391" id="line-1391">1391</a>    <span class="k">if</span> <span class="p">(</span> <span class="nx">DEBUG</span> <span class="p">)</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">chr</span><span class="p">.</span><span class="nx">_name</span> <span class="o">=</span> <span class="s1">&#39;chr&#39;</span><span class="p">;</span>
<a class="line-num" href="#line-1392" id="line-1392">1392</a>  
<a class="line-num" href="#line-1393" id="line-1393">1393</a>  
<a class="line-num" href="#line-1394" id="line-1394">1394</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>restores the previous value assigned to <code>window.Stryng</code>.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Stryng</span>
      <span>-
  the inner reference <em>Stryng</em> holds to itself</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1397" id="line-1397">1397</a>  
<a class="line-num" href="#line-1398" id="line-1398">1398</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">noConflict</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<a class="line-num" href="#line-1399" id="line-1399">1399</a>      <span class="nb">window</span><span class="p">.</span><span class="nx">Stryng</span> <span class="o">=</span> <span class="nx">previous_Stryng</span><span class="p">;</span>
<a class="line-num" href="#line-1400" id="line-1400">1400</a>      <span class="k">return</span> <span class="nx">Stryng</span><span class="p">;</span>
<a class="line-num" href="#line-1401" id="line-1401">1401</a>    <span class="p">}</span>
<a class="line-num" href="#line-1402" id="line-1402">1402</a>  
<a class="line-num" href="#line-1403" id="line-1403">1403</a>  
<a class="line-num" href="#line-1404" id="line-1404">1404</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>delegate directly to native <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode">String.fromCharCode</a>.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[charCode]</span>
      <span class="dox_type">number</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">string</span>
      <span>-
  string representation of the given <code>charCode</code>s from the UTF-16 table or
  the empty string if no arguments passed.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1410" id="line-1410">1410</a>  
<a class="line-num" href="#line-1411" id="line-1411">1411</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">fromCharCode</span> <span class="o">=</span> <span class="nx">String_fromCharCode</span><span class="p">;</span>
<a class="line-num" href="#line-1412" id="line-1412">1412</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">fromCodePoint</span> <span class="o">=</span> <span class="nx">String_fromCodePoint</span><span class="p">;</span>
<a class="line-num" href="#line-1413" id="line-1413">1413</a>  
<a class="line-num" href="#line-1414" id="line-1414">1414</a>  
<a class="line-num" href="#line-1415" id="line-1415">1415</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="building%20stryng">
  <h1>
    <a href="#building%20stryng" name="building%20stryng" class="pilcrow">&#182;</a>
    building Stryng
  </h1>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1415" id="line-1415">1415</a>  
<a class="line-num" href="#line-1416" id="line-1416">1416</a>  
<a class="line-num" href="#line-1417" id="line-1417">1417</a>  
<a class="line-num" href="#line-1418" id="line-1418">1418</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="custom%20methods">
  <h2>
    <a href="#custom%20methods" name="custom%20methods" class="pilcrow">&#182;</a>
    custom methods
  </h2>
</div>


<ul>
<li>provide a closure for each wrapper function</li>
<li>in <em>DEBUG</em> mode assign <code>_name</code> property to the function to make
our custom <a href="#exit">exit</a> method work</li>
<li>populate the custom static function <code>fn</code> onto the <em>Stryng</em> namespace</li>
<li>populate the function onto Stryng's prototype wrapped in another which..</li>
<li>unshifts the <em>Stryng</em> instance's wrapped <code>_value</code>
to become the first argument among the proxied ones to the static function</li>
<li>decides upon the type of <code>result</code> and whether this <code>_is_mutable</code> what to return.
<ul><li>if <code>result</code> isn't a string at all, simply return it</li>
<li>if the instance <code>_is_mutable</code>, assign <code>result</code> to <code>_value</code> and return <code>this</code></li>
<li>if not, return a new instance of <em>Stryng</em> constructed from <code>result</code></li></ul></li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1429" id="line-1429">1429</a>  
<a class="line-num" href="#line-1430" id="line-1430">1430</a>  
<a class="line-num" href="#line-1431" id="line-1431">1431</a>    <span class="nx">object_forOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">stryng_members</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">fn_name</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1432" id="line-1432">1432</a>  
<a class="line-num" href="#line-1433" id="line-1433">1433</a>      <span class="k">if</span> <span class="p">(</span> <span class="nx">DEBUG</span> <span class="p">)</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">_name</span> <span class="o">=</span> <span class="nx">fn_name</span><span class="p">;</span>
<a class="line-num" href="#line-1434" id="line-1434">1434</a>  
<a class="line-num" href="#line-1435" id="line-1435">1435</a>      <span class="nx">Stryng</span><span class="p">[</span> <span class="nx">fn_name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">;</span>
<a class="line-num" href="#line-1436" id="line-1436">1436</a>  
<a class="line-num" href="#line-1437" id="line-1437">1437</a>      <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span> <span class="nx">fn_name</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="cm">/* proxied arguments */</span><span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1438" id="line-1438">1438</a>  
<a class="line-num" href="#line-1439" id="line-1439">1439</a>        <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">,</span>
<a class="line-num" href="#line-1440" id="line-1440">1440</a>          <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-1441" id="line-1441">1441</a>  
<a class="line-num" href="#line-1442" id="line-1442">1442</a>        <span class="nx">array_unshift</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">args</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="p">);</span>
<a class="line-num" href="#line-1443" id="line-1443">1443</a>        <span class="nx">result</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">args</span> <span class="p">);</span>
<a class="line-num" href="#line-1444" id="line-1444">1444</a>  
<a class="line-num" href="#line-1445" id="line-1445">1445</a>        <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">result</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span> <span class="p">)</span> <span class="p">{</span> <span class="c1">// we can rest assured that this is a primitive</span>
<a class="line-num" href="#line-1446" id="line-1446">1446</a>          <span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">_is_mutable</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1447" id="line-1447">1447</a>            <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">=</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-1448" id="line-1448">1448</a>            <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">Object_defineProperty</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1449" id="line-1449">1449</a>              <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-1450" id="line-1450">1450</a>            <span class="p">}</span>
<a class="line-num" href="#line-1451" id="line-1451">1451</a>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<a class="line-num" href="#line-1452" id="line-1452">1452</a>            <span class="k">return</span> <span class="k">new</span> <span class="nx">Stryng</span><span class="p">(</span> <span class="nx">result</span> <span class="p">);</span>
<a class="line-num" href="#line-1453" id="line-1453">1453</a>          <span class="p">}</span>
<a class="line-num" href="#line-1454" id="line-1454">1454</a>        <span class="p">}</span>
<a class="line-num" href="#line-1455" id="line-1455">1455</a>        <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-1456" id="line-1456">1456</a>      <span class="p">};</span>
<a class="line-num" href="#line-1457" id="line-1457">1457</a>    <span class="p">}</span> <span class="p">);</span>
<a class="line-num" href="#line-1458" id="line-1458">1458</a>  
<a class="line-num" href="#line-1459" id="line-1459">1459</a>  
<a class="line-num" href="#line-1460" id="line-1460">1460</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="native%20methods">
  <h2>
    <a href="#native%20methods" name="native%20methods" class="pilcrow">&#182;</a>
    native methods
  </h2>
</div>


<ul>
<li>provide a closure for each wrapper function</li>
<li>skip functions that need stay shimmed</li>
<li>populate the native static function <code>String[ fn_name ]</code> onto the
<em>Stryng</em> namespace if it exists, otherwise construct one from the equivalent
instance method <code>fn</code> as learned from <a href="http://bonsaiden.github.io/JavaScript-Garden/#function.arguments">javascript garden</a></li>
<li>in <em>DEBUG</em> mode assign <code>_name</code> property to the function to make
our custom <a href="#exit">exit</a> method work</li>
<li>populate the function onto Stryng's prototype wrapped in another which..</li>
<li>calls the native instance method in the context of the Stryng
instance's wrapped <code>_value</code></li>
<li>proxies the given <code>arguments</code></li>
<li>decides upon the type of <code>result</code> and whether this <code>_is_mutable</code> what to return.
<ul><li>if the result isn't a string at all, simply return it</li>
<li>if the instance <code>_is_mutable</code>, set the value and return <code>this</code></li>
<li>if not, return a new instance of <em>Stryng</em> constructed from the result</li></ul></li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1477" id="line-1477">1477</a>  
<a class="line-num" href="#line-1478" id="line-1478">1478</a>    <span class="nx">array_forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">methods</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn_name</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1479" id="line-1479">1479</a>  
<a class="line-num" href="#line-1480" id="line-1480">1480</a>      <span class="kd">var</span> <span class="nx">fn</span> <span class="o">=</span> <span class="nx">string</span><span class="p">[</span> <span class="nx">fn_name</span> <span class="p">];</span>
<a class="line-num" href="#line-1481" id="line-1481">1481</a>  
<a class="line-num" href="#line-1482" id="line-1482">1482</a>      <span class="k">if</span> <span class="p">(</span> <span class="nx">is</span><span class="p">.</span><span class="nb">Function</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">shim_methods</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span> <span class="nx">fn_name</span> <span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1483" id="line-1483">1483</a>  
<a class="line-num" href="#line-1484" id="line-1484">1484</a>        <span class="nx">Stryng</span><span class="p">[</span> <span class="nx">fn_name</span> <span class="p">]</span> <span class="o">=</span> <span class="nb">String</span><span class="p">[</span> <span class="nx">fn_name</span> <span class="p">]</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">input</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1485" id="line-1485">1485</a>          <span class="k">if</span> <span class="p">(</span> <span class="nx">input</span> <span class="o">==</span> <span class="kc">null</span> <span class="p">)</span> <span class="nx">exit</span><span class="p">();</span>
<a class="line-num" href="#line-1486" id="line-1486">1486</a>          <span class="k">return</span> <span class="nx">function_call</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">)</span>
<a class="line-num" href="#line-1487" id="line-1487">1487</a>        <span class="p">}</span>
<a class="line-num" href="#line-1488" id="line-1488">1488</a>  
<a class="line-num" href="#line-1489" id="line-1489">1489</a>        <span class="k">if</span> <span class="p">(</span> <span class="nx">DEBUG</span> <span class="p">)</span> <span class="nx">Stryng</span><span class="p">[</span> <span class="nx">fn_name</span> <span class="p">].</span><span class="nx">_name</span> <span class="o">=</span> <span class="nx">fn_name</span><span class="p">;</span>
<a class="line-num" href="#line-1490" id="line-1490">1490</a>  
<a class="line-num" href="#line-1491" id="line-1491">1491</a>        <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span> <span class="nx">fn_name</span> <span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="cm">/* proxied arguments */</span><span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1492" id="line-1492">1492</a>  
<a class="line-num" href="#line-1493" id="line-1493">1493</a>          <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
<a class="line-num" href="#line-1494" id="line-1494">1494</a>  
<a class="line-num" href="#line-1495" id="line-1495">1495</a>          <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">result</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span> <span class="p">)</span> <span class="p">{</span> <span class="c1">// we can rest assured that this is a primitive</span>
<a class="line-num" href="#line-1496" id="line-1496">1496</a>            <span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">_is_mutable</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1497" id="line-1497">1497</a>              <span class="k">this</span><span class="p">.</span><span class="nx">_value</span> <span class="o">=</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-1498" id="line-1498">1498</a>              <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nx">Object_defineProperty</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1499" id="line-1499">1499</a>                <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<a class="line-num" href="#line-1500" id="line-1500">1500</a>              <span class="p">}</span>
<a class="line-num" href="#line-1501" id="line-1501">1501</a>            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<a class="line-num" href="#line-1502" id="line-1502">1502</a>              <span class="k">return</span> <span class="k">new</span> <span class="nx">Stryng</span><span class="p">(</span> <span class="nx">result</span> <span class="p">);</span>
<a class="line-num" href="#line-1503" id="line-1503">1503</a>            <span class="p">}</span>
<a class="line-num" href="#line-1504" id="line-1504">1504</a>          <span class="p">}</span>
<a class="line-num" href="#line-1505" id="line-1505">1505</a>          <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<a class="line-num" href="#line-1506" id="line-1506">1506</a>        <span class="p">};</span>
<a class="line-num" href="#line-1507" id="line-1507">1507</a>      <span class="p">}</span>
<a class="line-num" href="#line-1508" id="line-1508">1508</a>    <span class="p">}</span> <span class="p">);</span>
<a class="line-num" href="#line-1509" id="line-1509">1509</a>  
<a class="line-num" href="#line-1510" id="line-1510">1510</a>  
<a class="line-num" href="#line-1511" id="line-1511">1511</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="seemlessness">
  <h2>
    <a href="#seemlessness" name="seemlessness" class="pilcrow">&#182;</a>
    seemlessness
  </h2>
</div>


<p>by overriding <code>valueOf</code> and <code>toString</code> on the prototype
chain, instances of <em>Stryng</em> can be used like native ones
in many situations:</p>

<div class='highlight'><pre><code language=''>var numeric = Stryng('123');
!numeric; // false
+numeric; // 123

var greeting = Stryng('Hello');
greeting + ' World!' // 'Hello World'

var dictionary = {};
dictionary[ greeting ] = 'Salut'; // {'Hello': 'Salut'}
</code></pre></div>

<p>however, there are exceptions to this:</p>

<div class='highlight'><pre><code language=''>var stryng = Stryng();
typeof stryng; // 'object'
stryng instanceof String; // false
Object.prototype.toString.call(stryng); // '[object Object]'
</code></pre></div>

<p>a viable check is</p>

<div class='highlight'><pre><code language=''>stryng instanceof Stryng; // true
</code></pre></div>

<p>but only for as long as <code>stryng</code> was actually constructed using
that specific <code>Stryng</code> constructor and not some other foreign (i)frame's one.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1538" id="line-1538">1538</a>  
<a class="line-num" href="#line-1539" id="line-1539">1539</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span> <span class="o">=</span>
<a class="line-num" href="#line-1540" id="line-1540">1540</a>      <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<a class="line-num" href="#line-1541" id="line-1541">1541</a>        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">;</span> <span class="c1">// we can rest assured that this is a primitive</span>
<a class="line-num" href="#line-1542" id="line-1542">1542</a>    <span class="p">}</span>
<a class="line-num" href="#line-1543" id="line-1543">1543</a>  
<a class="line-num" href="#line-1544" id="line-1544">1544</a>  
<a class="line-num" href="#line-1545" id="line-1545">1545</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="aliases">
  <h2>
    <a href="#aliases" name="aliases" class="pilcrow">&#182;</a>
    aliases
  </h2>
</div>


<p>every function that ends with either <code>Left</code> or <code>Right</code> is
available with prefix <code>l</code> or <code>r</code> respectively instead.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1547" id="line-1547">1547</a>  
<a class="line-num" href="#line-1548" id="line-1548">1548</a>  
<a class="line-num" href="#line-1549" id="line-1549">1549</a>    <span class="nx">object_forOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">stryng_members</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">fn_name</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1550" id="line-1550">1550</a>  
<a class="line-num" href="#line-1551" id="line-1551">1551</a>      <span class="kd">var</span> <span class="nx">alias</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Stryng</span><span class="p">(</span> <span class="nx">fn_name</span> <span class="p">);</span>
<a class="line-num" href="#line-1552" id="line-1552">1552</a>  
<a class="line-num" href="#line-1553" id="line-1553">1553</a>      <span class="k">if</span> <span class="p">(</span> <span class="nx">alias</span><span class="p">.</span><span class="nx">endsWith</span><span class="p">(</span> <span class="s1">&#39;Left&#39;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1554" id="line-1554">1554</a>        <span class="nx">alias</span> <span class="o">=</span> <span class="nx">alias</span><span class="p">.</span><span class="nx">stripRight</span><span class="p">(</span> <span class="s1">&#39;Left&#39;</span> <span class="p">).</span><span class="nx">prepend</span><span class="p">(</span> <span class="s1">&#39;l&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-1555" id="line-1555">1555</a>  
<a class="line-num" href="#line-1556" id="line-1556">1556</a>        <span class="nx">Stryng</span><span class="p">[</span> <span class="nx">alias</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">;</span>
<a class="line-num" href="#line-1557" id="line-1557">1557</a>        <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span> <span class="nx">alias</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span> <span class="nx">fn_name</span> <span class="p">];</span>
<a class="line-num" href="#line-1558" id="line-1558">1558</a>      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">alias</span><span class="p">.</span><span class="nx">endsWith</span><span class="p">(</span> <span class="s1">&#39;Right&#39;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
<a class="line-num" href="#line-1559" id="line-1559">1559</a>        <span class="nx">alias</span> <span class="o">=</span> <span class="nx">alias</span><span class="p">.</span><span class="nx">stripRight</span><span class="p">(</span> <span class="s1">&#39;Right&#39;</span> <span class="p">).</span><span class="nx">prepend</span><span class="p">(</span> <span class="s1">&#39;r&#39;</span> <span class="p">);</span>
<a class="line-num" href="#line-1560" id="line-1560">1560</a>  
<a class="line-num" href="#line-1561" id="line-1561">1561</a>        <span class="nx">Stryng</span><span class="p">[</span> <span class="nx">alias</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">;</span>
<a class="line-num" href="#line-1562" id="line-1562">1562</a>        <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span> <span class="nx">alias</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span> <span class="nx">fn_name</span> <span class="p">];</span>
<a class="line-num" href="#line-1563" id="line-1563">1563</a>      <span class="p">}</span>
<a class="line-num" href="#line-1564" id="line-1564">1564</a>    <span class="p">}</span> <span class="p">);</span>
<a class="line-num" href="#line-1565" id="line-1565">1565</a>  
<a class="line-num" href="#line-1566" id="line-1566">1566</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">shallowStringify</span> <span class="o">=</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">quote</span><span class="p">;</span>
<a class="line-num" href="#line-1567" id="line-1567">1567</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">shallowStringify</span> <span class="o">=</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">quote</span><span class="p">;</span>
<a class="line-num" href="#line-1568" id="line-1568">1568</a>  
<a class="line-num" href="#line-1569" id="line-1569">1569</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">append</span> <span class="o">=</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">concat</span><span class="p">;</span>
<a class="line-num" href="#line-1570" id="line-1570">1570</a>    <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">append</span> <span class="o">=</span> <span class="nx">Stryng</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">concat</span><span class="p">;</span>
<a class="line-num" href="#line-1571" id="line-1571">1571</a>  
<a class="line-num" href="#line-1572" id="line-1572">1572</a>  <span class="p">}()</span> <span class="p">);</span>
<a class="line-num" href="#line-1573" id="line-1573">1573</a>  
<a class="line-num" href="#line-1574" id="line-1574">1574</a>  
<a class="line-num" href="#line-1575" id="line-1575">1575</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-106" id="section-106">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">input</span>
      <span class="dox_type">string</span>
      <span>the string to work on</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">...*</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span>-
  string literal ( with <code>string instanceOf String</code> yielding false )</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1580" id="line-1580">1580</a>  
<a class="line-num" href="#line-1581" id="line-1581">1581</a>  
<a class="line-num" href="#line-1582" id="line-1582">1582</a>  
<a class="line-num" href="#line-1583" id="line-1583">1583</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-107" id="section-107">&#182;</a>
</div>
<script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-undefined" id="line-undefined">undefined</a>  
<a class="line-num" href="#line-NaN" id="line-NaN">NaN</a>  </pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
